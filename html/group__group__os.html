<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eeOS (Embedded Event-driven Operating System): eeOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<h1>eeOS</h1>  </div>
</div>
<div class="contents">

<p>eeOS is a Embedded Event-driven Operating System. This page contains all the documentation related to this operating system (<a class="el" href="os__core_8h.html#a8ee42974be7bd483db95ede8d81be518">OS_VERSION</a>).</p>
<ul>
<li>Features:<ul>
<li>Real-Time OS</li>
<li>Preemptive and/or cooperative round-robin multi-tasking</li>
<li>Very scalable</li>
<li>Task priority</li>
<li>Hook points</li>
<li>Software interrupt with priority</li>
<li>Doxygen documented</li>
<li>Advanced event system with priority</li>
<li>Semaphores with priority inheritance</li>
</ul>
</li>
<li>Targets:<ul>
<li>MISRA-C 2004 (MISRA-C 2) compatible </li>
</ul>
</li>
</ul>
 
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html">Public API</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Public application interface. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__internal__api.html">Internal API</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Internal API. These functions should not be used by the user. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__port__group.html">Porting functions</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Functions which should be implemented to port this operating system onto another platform. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__config.html">Configuration</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Configuration flags available to customize the behavior of the OS. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__os__hook.html">Hooks</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Allow the user to insert software hooks. </p>
<br/></td></tr>
</p>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>eeOS is a Embedded Event-driven Operating System. This page contains all the documentation related to this operating system (<a class="el" href="os__core_8h.html#a8ee42974be7bd483db95ede8d81be518">OS_VERSION</a>).</p>
<ul>
<li>Features:<ul>
<li>Real-Time OS</li>
<li>Preemptive and/or cooperative round-robin multi-tasking</li>
<li>Very scalable</li>
<li>Task priority</li>
<li>Hook points</li>
<li>Software interrupt with priority</li>
<li>Doxygen documented</li>
<li>Advanced event system with priority</li>
<li>Semaphores with priority inheritance</li>
</ul>
</li>
<li>Targets:<ul>
<li>MISRA-C 2004 (MISRA-C 2) compatible </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="section_os_process"></a>
Process</h2>
<p>A process (<a class="el" href="structos__process.html">os_process</a>) is an instance of a piece of code with its own context. A process can have a priority execution amongst other processes. It can be enabled and be part of the active process list or disabled and be completely removed from the <a class="el" href="group__group__os.html#section_os_scheduler">Process Scheduler</a>.</p>
<p>A process is a private entity and must not be used as is.</p>
<p><a class="el" href="group__group__os.html#section_os_process_task">Task</a> and <a class="el" href="group__group__os.html#section_os_process_interrupt">Software Interrupt</a> are sub-categories of processses. Therefore they will inherit from all processes features. These entities are public entities and should be used by the user.</p>
<h2><a class="anchor" id="section_os_application"></a>
Application Process</h2>
<p>The application process contains the initial context. During the execution of the operating system, it is used only when no other processes are running and can be controlled with <a class="el" href="group__os__hook.html#ga94c9d19bd7fdc56eb7fe11fada5d43b1">HOOK_OS_IDLE</a>.</p>
<h2><a class="anchor" id="section_os_scheduler"></a>
Process Scheduler</h2>
<p>All the actives processes are stored in a circular chain list. The operating system does not keep track of the non-active processes. This to keep the context of this OS as small as possible.</p>
<p>The first process to be present in the active process list is the application process. This process will keep track of the intial context of the application before the user starts the task scheduling (<a class="el" href="group__group__os__public__api.html#ga33dd8cccd647bfabacee2c2b9119939d">os_start</a>). At this point the current process list will look like this: </p>
<div class="fragment"><pre class="fragment"> (application context) -&gt; (application context) -&gt; ... 
</pre></div><p>When the users creates and enables a new process, it will be added to the active process list. </p>
<div class="fragment"><pre class="fragment"> (process 1) -&gt; (process 1) -&gt; (process 1) -&gt; ... 
</pre></div><p> 2 new processed will make the active process list look like this: </p>
<div class="fragment"><pre class="fragment"> (process 1) -&gt; (process 2) -&gt; (process 1) -&gt; ... 
</pre></div><p>After each ticks the scheduler will switch between the different processes in the list. If all the processes share the same priority level, the time in each processes will be equal. A process with higher priority will receive more attention from the scheduler.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The priority level is assigned by <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>. The lower number represents the higher priority.</dd></dl>
<p>If the level of a process is X, it means that the process will be executed every X iteration. An iteration represents a complete cycle of the circular active process list. For example, if there are only 2 processes in the active process list; Let's say process #1 has a priority level of 1 and process #2 has a priority level of 2, then process #1 will have 66% of CPU while process #2, 33%. The active process list can be seen as follow: </p>
<div class="fragment"><pre class="fragment"> (process 1) -&gt; (process 1) -&gt; (process 2) -&gt; (process 1) -&gt; (process 1)
 -&gt; (process 2) -&gt; ... 
</pre></div><h2><a class="anchor" id="section_os_usage"></a>
Usage</h2>
<p>The operating system will be operational after the call of <a class="el" href="group__group__os__public__api.html#ga33dd8cccd647bfabacee2c2b9119939d">os_start</a>. This function needs a frequency which is passed as an argument. This frequency is used as a reference to generate the tick interrupt at <a class="el" href="group__group__os__config.html#ga44dcb5adb4f9a48ee335561cbd703952">CONFIG_OS_TICK_HZ</a>.</p>
<p>To calculate how much ressources are needed, you need to understand what your application really needs. The size of the application stack also needs to be carefully chosen. The application stack is used by different modules in the operating system:</p>
<ul>
<li><a class="el" href="group__group__os.html#section_os_process_interrupt">Software Interrupt</a> will runs within the application context.</li>
<li>The <a class="el" href="group__group__os.html#section_os_event">Events</a> scheduler will run within the application context.</li>
<li>Everything you put in <a class="el" href="group__os__hook.html#ga94c9d19bd7fdc56eb7fe11fada5d43b1">HOOK_OS_IDLE</a> will also run within the application context.</li>
</ul>
<h2><a class="anchor" id="section_os_event"></a>
Events</h2>
<p>Events (<a class="el" href="structos__event.html">os_event</a>) are used to wake up or call one or multiple processes. When a process is sleeping it will be removed from the active process list, therefore the performance will not be decreased.</p>
<p>An event can wake up one or multiple process. A process can be waken up by one or multiple events as well. If priorities are enabled, the first process waken up by an event will be the one with the highest priority.</p>
<p>Events are stored in a chain list as follow, and each evetn has a list of associated processes: </p>
<div align="center">
<img src="event.png" alt="event.png"/>
</div>
<p>When an event has no associated process, it is considered as inactive and is removed from the active event list.</p>
<p>The event scheduler runs with the application process. They share the same context and therefore the same stack. You can change the priority of the event process (in other word, you can change the priority of the event scheduler). This will not affect the priority of the application process since this process is active only when no other processes are actives.</p>
<h2><a class="anchor" id="section_os_process_task"></a>
Task</h2>
<p>A task (<a class="el" href="structos__task.html">os_task</a>) is a process which can be interrupted by the process scheduler at any time. Therefore its execution time is not predictable without a complete view of the active process list.</p>
<h2><a class="anchor" id="section_os_process_interrupt"></a>
Software Interrupt</h2>
<p>A software interrupt (<a class="el" href="structos__interrupt.html">os_interrupt</a>) is a process which will not be interrupted by the process scheduler. An interrupt uses the same stack as the application process. </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Feb 29 2012 13:12:56 for eeOS (Embedded Event-driven Operating System) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
