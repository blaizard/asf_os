<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OS: os_event.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">os_event.c File Reference</div>  </div>
</div>
<div class="contents">

<p>eeOS Events  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="os__core_8h_source.html">os_core.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for os_event.c:</div>
<div class="dyncontent">
<div class="center"><img src="os__event_8c__incl.gif" border="0" usemap="#os__event_8c" alt=""/></div>
<map name="os__event_8c" id="os__event_8c">
</map>
</div>
</div>
<p><a href="os__event_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct____os__event__custom__function__args.html">__os_event_custom_function_args</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="os__event_8h.html#a9658f0b4244c28dcd0efdcdbb2109fd7">os_event_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#a6435dee879fc99935a12f580005794d2">__os_event_custom_function_handler</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc, <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__internal__api.html#ga3d05056fe28a7e3b0fa74744187a095c">__os_event_register</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate a process with an event and enable the event.  <a href="group__group__os__internal__api.html#ga3d05056fe28a7e3b0fa74744187a095c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__internal__api.html#gaa9577960e9f8fb3d8e69777d8f9040c6">os_event_create</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, const struct <a class="el" href="structos__event__descriptor.html">os_event_descriptor</a> *descriptor, <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new event.  <a href="group__group__os__internal__api.html#gaa9577960e9f8fb3d8e69777d8f9040c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga5327668478b8ed940f69c6cb1df04e26">os_event_create_from_function</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>(*trigger)(<a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>), <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a custom event from a function.  <a href="group__group__os__public__api.html#ga5327668478b8ed940f69c6cb1df04e26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__internal__api.html#ga85539731c6f6d545b066130922dddfe7">os_event_scheduler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Event scheduler.  <a href="group__group__os__internal__api.html#ga85539731c6f6d545b066130922dddfe7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#ab4924ab5d916bedeebb72bd38741fdd7">os_event_sort_fifo</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc1, struct <a class="el" href="structos__process.html">os_process</a> *proc2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to define the order of a new process added to an event. This function will add them so that the <b>first</b> <b>in</b> will be the <b>first</b> <b>out</b>. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>.  <a href="#ab4924ab5d916bedeebb72bd38741fdd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#ad021b5f928cef38e762a8f4733f8a997">os_event_sort_lifo</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc1, struct <a class="el" href="structos__process.html">os_process</a> *proc2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to define the order of a new process added to an event. This function will add them so that the <b>last</b> <b>in</b> will be the <b>first</b> <b>out</b>. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>.  <a href="#ad021b5f928cef38e762a8f4733f8a997"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#a5acf0657bc7fdd03d7e2a10e0d66857a">os_event_sort_priority</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc1, struct <a class="el" href="structos__process.html">os_process</a> *proc2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to define the order of a new process added to an event. This function will add them so that the highest priority process will be at the head of the list. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>.  <a href="#a5acf0657bc7fdd03d7e2a10e0d66857a"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#aeb89fa98c2946542c80faec3b2411ade">__os_event_pop_process</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#acff13c8a0d6d97ae1629992028988138">__os_event_pop</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#ad472ff71aac0d31e2d8235f5bcdd8b1e">__os_event_insert_process_after</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc, struct <a class="el" href="structos__process.html">os_process</a> *new_proc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#a7514e9038c80edf29c1909a5899621d2">__os_event_insert_process_begining</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#a2cd3cdd8d41d49a73f196284967e925d">__os_event_enable</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#aa78431dfe3d5225cf757cce6afb47d94">__os_event_start</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#ae3abeba34faec78f83f4a23c7c5cadda">__os_event_is_triggered</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structos__process.html">os_process</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__event_8c.html#a2461517026a8b73154b782c11444aca7">os_event_alternate_proc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef">os_interrupt_trigger_on_event</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger an interrupt on a specific event.  <a href="group__group__os__public__api.html#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gad4b495c8eb823347d1f1e5f66515404c">os_task_sleep</a> (struct <a class="el" href="structos__task.html">os_task</a> *task, struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the task to sleep and wake it up uppon a specific event.  <a href="group__group__os__public__api.html#gad4b495c8eb823347d1f1e5f66515404c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>eeOS Events </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Blaise Lengrand (<a href="mailto:blaise.lengrand@gmail.com">blaise.lengrand@gmail.com</a>) </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2011</dd></dl>
<h2><a class="anchor" id="eeos_license"></a>
License</h2>
<p><a class="el" href="group__group__os.html">eeOS</a> is provided in source form for FREE evaluation, for educational use or for peaceful research. If you plan on using <a class="el" href="group__group__os.html">eeOS</a> in a commercial product you need to contact the author to properly license its use in your product. The fact that the source is provided does NOT mean that you can use it without paying a licensing fee. </p>

<p>Definition in file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6435dee879fc99935a12f580005794d2"></a><!-- doxytag: member="os_event.c::__os_event_custom_function_handler" ref="a6435dee879fc99935a12f580005794d2" args="(struct os_process *proc, os_ptr_t args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="os__event_8h.html#a9658f0b4244c28dcd0efdcdbb2109fd7">os_event_status</a> __os_event_custom_function_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00216">216</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00211">__os_event_custom_function_args::args</a>, <a class="el" href="os__event_8h_source.html#l00023">OS_EVENT_NONE</a>, <a class="el" href="os__event_8h_source.html#l00035">OS_EVENT_OK_CONTINUE</a>, and <a class="el" href="os__event_8c_source.html#l00210">__os_event_custom_function_args::trigger</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00226">os_event_create_from_function()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span><a class="code" href="struct____os__event__custom__function__args.html">__os_event_custom_function_args</a> *custom_args =
            (<span class="keyword">struct </span><a class="code" href="struct____os__event__custom__function__args.html">__os_event_custom_function_args</a> *) <a class="code" href="struct____os__event__custom__function__args.html#adcec3f261ea3bcc1f3fa822631a8a74b">args</a>;
    <span class="keywordflow">if</span> (custom_args-&gt;<a class="code" href="struct____os__event__custom__function__args.html#a0708b469fb2c82d428664d8383e90461">trigger</a>(custom_args-&gt;<a class="code" href="struct____os__event__custom__function__args.html#adcec3f261ea3bcc1f3fa822631a8a74b">args</a>))
        <span class="keywordflow">return</span> <a class="code" href="os__event_8h.html#a9658f0b4244c28dcd0efdcdbb2109fd7acecf03b8374d2a7cceb9c15d7ecf4ddc" title="An event has been triggered for this process. If another process is sharing the same event...">OS_EVENT_OK_CONTINUE</a>;
    <span class="keywordflow">return</span> <a class="code" href="os__event_8h.html#a9658f0b4244c28dcd0efdcdbb2109fd7a76b2ac0d27c3b75ead74e86bad9ab3e4" title="No event has occured.">OS_EVENT_NONE</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2cd3cdd8d41d49a73f196284967e925d"></a><!-- doxytag: member="os_event.c::__os_event_enable" ref="a2cd3cdd8d41d49a73f196284967e925d" args="(struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __os_event_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00070">70</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="main_8c_source.html#l00013">event</a>, and <a class="el" href="os__event_8h_source.html#l00117">os_event::next</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
    <span class="keywordflow">if</span> (<a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a>) {
        <span class="keyword">event</span>-&gt;next = <a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a>-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a>;
    }
    <span class="keywordflow">else</span> {
        <span class="keyword">event</span>-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a> = NULL;
    }
    <a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a> = <a class="code" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad472ff71aac0d31e2d8235f5bcdd8b1e"></a><!-- doxytag: member="os_event.c::__os_event_insert_process_after" ref="ad472ff71aac0d31e2d8235f5bcdd8b1e" args="(struct os_process *proc, struct os_process *new_proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __os_event_insert_process_after </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>new_proc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00058">58</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00306">os_process::next</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
    new_proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a> = proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>;
    proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a> = new_proc;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7514e9038c80edf29c1909a5899621d2"></a><!-- doxytag: member="os_event.c::__os_event_insert_process_begining" ref="a7514e9038c80edf29c1909a5899621d2" args="(struct os_event *event, struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __os_event_insert_process_begining </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00064">64</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00306">os_process::next</a>, and <a class="el" href="os__event_8h_source.html#l00113">os_event::proc</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
    proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a> = <span class="keyword">event</span>-&gt;proc;
    <span class="keyword">event</span>-&gt;proc = proc;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae3abeba34faec78f83f4a23c7c5cadda"></a><!-- doxytag: member="os_event.c::__os_event_is_triggered" ref="ae3abeba34faec78f83f4a23c7c5cadda" args="(struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> __os_event_is_triggered </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00086">86</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8h_source.html#l00120">os_event::args</a>, <a class="el" href="os__event_8h_source.html#l00109">os_event::desc</a>, <a class="el" href="os__event_8h_source.html#l00082">os_event_descriptor::is_triggered</a>, <a class="el" href="os__event_8h_source.html#l00023">OS_EVENT_NONE</a>, and <a class="el" href="os__core_8c_source.html#l00076">os_get_current_process()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                   {
    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="structos__event.html#a2584646692ba40f8a849bd7beba7593b" title="This structure contains the event descriptor functions. These functions will define the behavior of t...">desc</a>.<a class="code" href="structos__event__descriptor.html#a1de34d4414099df02afe3b48533ae218" title="Check the status of an event.">is_triggered</a>(<a class="code" href="os__core_8c.html#a032d6f1843bb998a4162c8798bfb23d3" title="Get the current process.">os_get_current_process</a>(), event-&gt;<a class="code" href="structos__event.html#a49b42e531680051af689cf09dffedb5b" title="Extra arguments used to define this event.">args</a>)
            == <a class="code" href="os__event_8h.html#a9658f0b4244c28dcd0efdcdbb2109fd7a76b2ac0d27c3b75ead74e86bad9ab3e4" title="No event has occured.">OS_EVENT_NONE</a>)
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="os__event_8c_ae3abeba34faec78f83f4a23c7c5cadda_cgraph.gif" border="0" usemap="#os__event_8c_ae3abeba34faec78f83f4a23c7c5cadda_cgraph" alt=""/></div>
<map name="os__event_8c_ae3abeba34faec78f83f4a23c7c5cadda_cgraph" id="os__event_8c_ae3abeba34faec78f83f4a23c7c5cadda_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acff13c8a0d6d97ae1629992028988138"></a><!-- doxytag: member="os_event.c::__os_event_pop" ref="acff13c8a0d6d97ae1629992028988138" args="(struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __os_event_pop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="note"><dt><b>Note:</b></dt><dd>event MUST be in the event list </dd></dl>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00043">43</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8h_source.html#l00117">os_event::next</a>, and <a class="el" href="os__event_8c_source.html#l00019">os_current_event</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00166">os_event_scheduler()</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
    <span class="keyword">struct </span><a class="code" href="structos__event.html" title="Event structure.">os_event</a> *prev_event = <a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a>;
    <span class="comment">// If the event is the 1rst one</span>
    <span class="keywordflow">if</span> (event == <a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a>) {
        <a class="code" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a> = <span class="keyword">event</span>-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a>;
    }
    <span class="keywordflow">else</span> {
        <span class="comment">// Look for the event in the list</span>
        <span class="keywordflow">while</span> (prev_event-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a> != event) {
            prev_event = prev_event-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a>;
        }
        prev_event-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a> = <span class="keyword">event</span>-&gt;<a class="code" href="structos__event.html#aa8d7b2f38dce2e302eed2f8c3fc15a4b" title="Next event in the chain list. Last event is followed by a NULL pointer.">next</a>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeb89fa98c2946542c80faec3b2411ade"></a><!-- doxytag: member="os_event.c::__os_event_pop_process" ref="aeb89fa98c2946542c80faec3b2411ade" args="(struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structos__process.html">os_process</a>* __os_event_pop_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Private helper functions </p>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00035">35</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00306">os_process::next</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00166">os_event_scheduler()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                {
    <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> *proc = <span class="keyword">event</span>-&gt;proc;
    <span class="keyword">event</span>-&gt;proc = proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>;
    <span class="keywordflow">return</span> proc;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa78431dfe3d5225cf757cce6afb47d94"></a><!-- doxytag: member="os_event.c::__os_event_start" ref="aa78431dfe3d5225cf757cce6afb47d94" args="(struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void __os_event_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00080">80</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8h_source.html#l00120">os_event::args</a>, <a class="el" href="os__event_8h_source.html#l00109">os_event::desc</a>, and <a class="el" href="os__event_8h_source.html#l00075">os_event_descriptor::start</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00248">os_interrupt_trigger_on_event()</a>, and <a class="el" href="os__event_8c_source.html#l00258">os_task_sleep()</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
    <span class="keywordflow">if</span> (event-&gt;<a class="code" href="structos__event.html#a2584646692ba40f8a849bd7beba7593b" title="This structure contains the event descriptor functions. These functions will define the behavior of t...">desc</a>.<a class="code" href="structos__event__descriptor.html#a77b13dc9cb14ca99bae99fb28c460b73" title="This function will handle the setup of the event. For example, if the event is a timer, the timer will start to run after the call of this function.">start</a>) {
        <span class="keyword">event</span>-&gt;desc.start(event-&gt;<a class="code" href="structos__event.html#a49b42e531680051af689cf09dffedb5b" title="Extra arguments used to define this event.">args</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab4924ab5d916bedeebb72bd38741fdd7"></a><!-- doxytag: member="os_event.c::os_event_sort_fifo" ref="ab4924ab5d916bedeebb72bd38741fdd7" args="(struct os_process *proc1, struct os_process *proc2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_event_sort_fifo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function used to define the order of a new process added to an event. This function will add them so that the <b>first</b> <b>in</b> will be the <b>first</b> <b>out</b>. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>. </p>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00097">97</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad021b5f928cef38e762a8f4733f8a997"></a><!-- doxytag: member="os_event.c::os_event_sort_lifo" ref="ad021b5f928cef38e762a8f4733f8a997" args="(struct os_process *proc1, struct os_process *proc2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_event_sort_lifo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function used to define the order of a new process added to an event. This function will add them so that the <b>last</b> <b>in</b> will be the <b>first</b> <b>out</b>. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>. </p>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00103">103</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5acf0657bc7fdd03d7e2a10e0d66857a"></a><!-- doxytag: member="os_event.c::os_event_sort_priority" ref="a5acf0657bc7fdd03d7e2a10e0d66857a" args="(struct os_process *proc1, struct os_process *proc2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_event_sort_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helper function used to define the order of a new process added to an event. This function will add them so that the highest priority process will be at the head of the list. This function must be used with <a class="el" href="structos__event__descriptor.html#a3d33e0307a7f75669c3a59ea415fac09">os_event_descriptor::sort</a>. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gae9508efbc3a0a00fc489f54d6ec6abfc">CONFIG_OS_USE_PRIORITY</a> must be set </dd></dl>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00110">110</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00313">os_process::priority</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (proc1-&gt;<a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a> &lt;= proc2-&gt;<a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ad55c1bdbf798908a79d41bec7f323db2"></a><!-- doxytag: member="os_event.c::os_current_event" ref="ad55c1bdbf798908a79d41bec7f323db2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__event.html">os_event</a>* <a class="el" href="os__event_8c.html#ad55c1bdbf798908a79d41bec7f323db2">os_current_event</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00019">19</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00043">__os_event_pop()</a>, <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>, and <a class="el" href="os__event_8c_source.html#l00166">os_event_scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="a2461517026a8b73154b782c11444aca7"></a><!-- doxytag: member="os_event.c::os_event_alternate_proc" ref="a2461517026a8b73154b782c11444aca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__process.html">os_process</a> <a class="el" href="os__event_8c.html#a2461517026a8b73154b782c11444aca7">os_event_alternate_proc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    .next = NULL
}
</pre></div><p>Task API Extension </p>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00243">243</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 15 2011 13:05:47 for OS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
