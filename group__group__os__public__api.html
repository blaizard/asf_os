<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OS: Public API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a>  </div>
  <div class="headertitle">
<div class="title">Public API</div>  </div>
<div class="ingroups"><a class="el" href="group__group__os.html">eeOS</a></div></div>
<div class="contents">

<p>Public application interface.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Public API:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__group__os__public__api.gif" border="0" alt="" usemap="#group____group____os____public____api"/>
<map name="group____group____os____public____api" id="group____group____os____public____api">
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga878170e4ad0391ea0e9331f9b0a58b78">OS_MALLOC_STACK</a>(stack_symbol, stack_size)&#160;&#160;&#160;uint8_t (stack_symbol)[(stack_size)]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory for the stack This macro can be used with <a class="el" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252a87d1750ba67b1309236eb524fe0ad804">OS_TASK_USE_CUSTOM_STACK</a> in order to manually allocate some memory for the stack. Here is an example code to use this macro:  <a href="#ga878170e4ad0391ea0e9331f9b0a58b78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga0d06380288dc864b9224b36d1f73cc7c">OS_MS_TO_TICK</a>(time_ms)&#160;&#160;&#160;(((time_ms) * CONFIG_OS_TICK_HZ) / 1000)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a delay in milliseconds to a number of ticks.  <a href="#ga0d06380288dc864b9224b36d1f73cc7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaf24119bed702866a002a9fe1c74fbfd9">OS_S_TO_TICK</a>(time_s)&#160;&#160;&#160;((time_s) * CONFIG_OS_TICK_HZ)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a delay in seconds to a number of ticks.  <a href="#gaf24119bed702866a002a9fe1c74fbfd9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Tasks</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpef615563c8e8ea902c7fcac3cd2c4246"></a> Set of functions to manage a task </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga8be07c8cf779948a051afc62855cec51">os_task_create</a> (struct <a class="el" href="structos__task.html">os_task</a> *task, <a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a> task_ptr, <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args, int stack_size, enum <a class="el" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252">os_task_option</a> options)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new task. By default, the new task will be automatically added to the active task list unless specified.  <a href="#ga8be07c8cf779948a051afc62855cec51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga0263de3d6f2a393b05cff092ef6038b3">os_task_delay</a> (<a class="el" href="os__core_8h.html#a38ef3fb720f7928704ee6e16452ff26e">os_tick_t</a> tick_nb)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Block the execution of a task until a number of ticks have passed.<a class="el" href="group__group__os__config.html#ga44dcb5adb4f9a48ee335561cbd703952">CONFIG_OS_TICK_HZ</a> can be used to estimate a time delay.  <a href="#ga0263de3d6f2a393b05cff092ef6038b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga722e3717a8528f5f5e7cec1c28c9c436">os_task_from_process</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the task associated with a process.  <a href="#ga722e3717a8528f5f5e7cec1c28c9c436"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a">os_task_get_process</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the task process.  <a href="#gac7e44f93fb27ec80a0319b3cbc830c9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gab48300804c48db05d1bc8eb64302fcbd">os_task_set_priority</a> (struct <a class="el" href="structos__task.html">os_task</a> *task, enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> priority)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a priority to a task.  <a href="#gab48300804c48db05d1bc8eb64302fcbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga572673dad1f1525b17c5822c4f6bf797">os_task_get_priority</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the priority of a task.  <a href="#ga572673dad1f1525b17c5822c4f6bf797"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga21ffc9e663b97a90916a01579cd7b78c">os_task_delete</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a task.  <a href="#ga21ffc9e663b97a90916a01579cd7b78c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga429aaa6bd845aaa8781e37ec899c56b0">os_task_enable</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the execution a task.  <a href="#ga429aaa6bd845aaa8781e37ec899c56b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaec2cc9afe1625f415412dc2a0d3f2225">os_task_disable</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the execution of a task.  <a href="#gaec2cc9afe1625f415412dc2a0d3f2225"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga598f01e16df2725f534828f57cf679c9">os_task_is_enabled</a> (struct <a class="el" href="structos__task.html">os_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check wether a task is enabled or not.  <a href="#ga598f01e16df2725f534828f57cf679c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga2b912496ac881b95be87fbc600b22f26">os_task_get_current</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current running task.  <a href="#ga2b912496ac881b95be87fbc600b22f26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gad4b495c8eb823347d1f1e5f66515404c">os_task_sleep</a> (struct <a class="el" href="structos__task.html">os_task</a> *task, struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the task to sleep and wake it up uppon a specific event.  <a href="#gad4b495c8eb823347d1f1e5f66515404c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Semaphores</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp58d4d2ed940cdd8be6c2061c284358da"></a> Set of functions to create and control sempahores </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gab9c5bc7c3f3fc5386f2cc4968d0ba6ed">os_semaphore_create</a> (struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *<a class="el" href="main_8c.html#add8ccd788f0cd51ed6aac96619419fcd">sem</a>, uint16_t counter, uint16_t initial_count)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a counting semaphore.  <a href="#gab9c5bc7c3f3fc5386f2cc4968d0ba6ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga260ec6e403c2b11725fc4e25bc063455">os_binary_semaphore_create</a> (struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *<a class="el" href="main_8c.html#add8ccd788f0cd51ed6aac96619419fcd">sem</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a binary semaphore.  <a href="#ga260ec6e403c2b11725fc4e25bc063455"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gad98193a9f28a3120426778e99482a708">os_semaphore_create_event</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *<a class="el" href="main_8c.html#add8ccd788f0cd51ed6aac96619419fcd">sem</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an event from a semaphore. The sempahore must have been previously created before using this function.  <a href="#gad98193a9f28a3120426778e99482a708"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga14089e1d955db03a545cdca18de265e2">os_semaphore_take</a> (struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *<a class="el" href="main_8c.html#add8ccd788f0cd51ed6aac96619419fcd">sem</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a semaphore. If no semaphore is available, wait until it gets free.  <a href="#ga14089e1d955db03a545cdca18de265e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga93796eb1fdad55b62be5de91fccb7952">os_semaphore_release</a> (struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *<a class="el" href="main_8c.html#add8ccd788f0cd51ed6aac96619419fcd">sem</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a semaphore.  <a href="#ga93796eb1fdad55b62be5de91fccb7952"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Events</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp87f9f735a1d36793ceaecd4e47124b63"></a> Set of functions to create and manage events </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga5327668478b8ed940f69c6cb1df04e26">os_event_create_from_function</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>(*trigger)(<a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>), <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a custom event from a function.  <a href="#ga5327668478b8ed940f69c6cb1df04e26"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Mutex</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp648c65b85d6dae62ee3d0130b0da2f01"></a> Set of functions to create and control mutex </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga687193e46bce359047d11aba4dea103f">os_mutex_create</a> (struct <a class="el" href="structos__mutex.html">os_mutex</a> *<a class="el" href="main_8c.html#a4e436caa4b887d5505179c25d91b6b57">mutex</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a mutex.  <a href="#ga687193e46bce359047d11aba4dea103f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga08425682c3e53ab8ed0622900dfa62b7">os_mutex_create_event</a> (struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>, struct <a class="el" href="structos__mutex.html">os_mutex</a> *<a class="el" href="main_8c.html#a4e436caa4b887d5505179c25d91b6b57">mutex</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an event from a mutex. The mutex must have been previously created before using this function.  <a href="#ga08425682c3e53ab8ed0622900dfa62b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaa4ada620c8cef5d96708efa7f302b072">os_mutex_lock</a> (struct <a class="el" href="structos__mutex.html">os_mutex</a> *<a class="el" href="main_8c.html#a4e436caa4b887d5505179c25d91b6b57">mutex</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock a mutex. If the mutex is already locked, wait until it gets unlocked.  <a href="#gaa4ada620c8cef5d96708efa7f302b072"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gae0b7d1afa98b5e274904593806677667">os_mutex_unlock</a> (struct <a class="el" href="structos__mutex.html">os_mutex</a> *<a class="el" href="main_8c.html#a4e436caa4b887d5505179c25d91b6b57">mutex</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-lock a mutex.  <a href="#gae0b7d1afa98b5e274904593806677667"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Software Interrupts</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc8efd9e850bf61a2b6b9b165bbb24e47"></a> A software interrupt is a task which runs from the application context and it cannot be interrupted by the scheduler. Software interrupts are scheduled with the task scheduler. They inherit from the same priority scheme than a task.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#ga852d85d7a28eeb540acf970a50c899ce">CONFIG_OS_USE_SW_INTERRUPTS</a> needs to be set </dd></dl>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gabc9c61a0974c0877abbd70ea8c5601f8">os_interrupt_setup</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, <a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a> int_ptr, <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a software interrupt.  <a href="#gabc9c61a0974c0877abbd70ea8c5601f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga9a64ae1de25d9d4eea1e1f9871bcddfa">os_interrupt_trigger</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually trigger a software interrupt.  <a href="#ga9a64ae1de25d9d4eea1e1f9871bcddfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga91ae6c76302929a84af282241a03e2b7">os_interrupt_set_priority</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> priority)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the priority of a software interrupt.  <a href="#ga91ae6c76302929a84af282241a03e2b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gae3f5b78918a466b5dea1df8b9772ced4">os_interrupt_get_priority</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the priority of a software interrupt.  <a href="#gae3f5b78918a466b5dea1df8b9772ced4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef">os_interrupt_trigger_on_event</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger an interrupt on a specific event.  <a href="#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga2fb6522c1e8ff2b28c4bfad164b7d49e">os_interrupt_from_process</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the interrupt associated with a process.  <a href="#ga2fb6522c1e8ff2b28c4bfad164b7d49e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233">os_interrupt_get_process</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the interrupt process.  <a href="#gadc52db854e4b043e20efc16136ea5233"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Kernel Control</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp9cfdf0ba89ab363dad5587ab4b93692e"></a> Control the core of the operating system </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686">os_yield</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperative task swiching.  <a href="#ga02d2fa79b4b720c7906a7262740db686"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga33dd8cccd647bfabacee2c2b9119939d">os_start</a> (uint32_t ref_hz)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the task scheduling process.  <a href="#ga33dd8cccd647bfabacee2c2b9119939d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gae0e13a019be1d8bfa29bae998ad20def">os_process_enable</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the execution a process.  <a href="#gae0e13a019be1d8bfa29bae998ad20def"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaf292791f2fa4380d7ad6069f1e206f9f">os_process_disable</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the execution of a process.  <a href="#gaf292791f2fa4380d7ad6069f1e206f9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaa0ef4301dd6970eb16d4afd6f66e5f67">os_process_is_enabled</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check wether a process is enabled or not.  <a href="#gaa0ef4301dd6970eb16d4afd6f66e5f67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaa2a70f2f4c0f8d7ebbb5589b2c5bce7f">os_process_is_application</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a process is the application process.  <a href="#gaa2a70f2f4c0f8d7ebbb5589b2c5bce7f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gadbb9c0f37340b0dc1dbf2f169e45ab47">os_process_is_task</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a process is a task.  <a href="#gadbb9c0f37340b0dc1dbf2f169e45ab47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga0f5aa4b090b7594929ef92bb057c9566">os_process_is_interrupt</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a process is a software interrupt.  <a href="#ga0f5aa4b090b7594929ef92bb057c9566"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga80bd3d80f59a834380a14573d29e3785">os_process_is_event</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a process is the event scheduler.  <a href="#ga80bd3d80f59a834380a14573d29e3785"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga9ee7f5cabef074dbe97b342134103973">os_process_set_priority</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc, enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> priority)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the priority of a process.  <a href="#ga9ee7f5cabef074dbe97b342134103973"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gaaf8fed0525d0c3bb570255721416bee7">os_process_get_priority</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the priority of a process.  <a href="#gaaf8fed0525d0c3bb570255721416bee7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga5519a6c0c370ff1c84ef6130ac5c36e3">os_get_version</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current version of the running operating system.  <a href="#ga5519a6c0c370ff1c84ef6130ac5c36e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga032d6f1843bb998a4162c8798bfb23d3">os_get_current_process</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current process.  <a href="#ga032d6f1843bb998a4162c8798bfb23d3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Statistics</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc33e404a441c6ba9648f88af3c68a1ca"></a> This set of function gives real-time statistics on the current operating system setup.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gaf234cd947ce69c9eeb8e591f54a4ef60">CONFIG_OS_USE_STATISTICS</a> needs to be set </dd></dl>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__port_8h.html#a4dd1a84df1907b33af17aab741eb1388">os_cy_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gafddc84d046059c6db3c379e85bf19cd2">os_statistics_get_task_switch_time</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the average time of the context task switching in number of cycles.  <a href="#gafddc84d046059c6db3c379e85bf19cd2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__port_8h.html#a4dd1a84df1907b33af17aab741eb1388">os_cy_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga9d235d61bb580b9daee8455da2e52296">os_statistics_get_task_switch_time_jitter</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the jitter of the context task switching in number of cycles.  <a href="#ga9d235d61bb580b9daee8455da2e52296"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Public application interface. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga878170e4ad0391ea0e9331f9b0a58b78"></a><!-- doxytag: member="os_core.h::OS_MALLOC_STACK" ref="ga878170e4ad0391ea0e9331f9b0a58b78" args="(stack_symbol, stack_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_MALLOC_STACK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stack_symbol, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">stack_size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;uint8_t (stack_symbol)[(stack_size)]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate memory for the stack This macro can be used with <a class="el" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252a87d1750ba67b1309236eb524fe0ad804">OS_TASK_USE_CUSTOM_STACK</a> in order to manually allocate some memory for the stack. Here is an example code to use this macro: </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">void</span> my_func(<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)
 {
    ...
 }
 <span class="keyword">static</span> <a class="code" href="group__group__os__public__api.html#ga878170e4ad0391ea0e9331f9b0a58b78" title="Allocate memory for the stack This macro can be used with OS_TASK_USE_CUSTOM_STACK in order to manual...">OS_MALLOC_STACK</a>(my_stack, 1024);
 <span class="keyword">struct </span><a class="code" href="structos__task.html">os_task</a> my_task;
 my_task.<a class="code" href="structos__task.html#a71fd7e8a632ae95b2d2711b06f17010c" title="A pointer on a memory space reserved for the stack.">stack</a> = my_stack;
 <a class="code" href="group__group__os__public__api.html#ga8be07c8cf779948a051afc62855cec51" title="Create a new task. By default, the new task will be automatically added to the active task list unles...">os_task_create</a>(&amp;my_task, my_func, NULL, 0, <a class="code" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252a87d1750ba67b1309236eb524fe0ad804" title="Use a custom stack for this task. The user must previously allocate memory for os_task::stack. This option is available only if CONFIG_OS_USE_MALLOC is set.">OS_TASK_USE_CUSTOM_STACK</a>);
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stack_symbol</td><td>The symbol name used to refer to this stack </td></tr>
    <tr><td class="paramname">stack_size</td><td>The size of the stack in bytes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00353">353</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d06380288dc864b9224b36d1f73cc7c"></a><!-- doxytag: member="os_core.h::OS_MS_TO_TICK" ref="ga0d06380288dc864b9224b36d1f73cc7c" args="(time_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_MS_TO_TICK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">time_ms</td><td>)</td>
          <td>&#160;&#160;&#160;(((time_ms) * CONFIG_OS_TICK_HZ) / 1000)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a delay in milliseconds to a number of ticks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time_ms</td><td>The time (in ms) to be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of ticks </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00361">361</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00022">led_blink()</a>, and <a class="el" href="main_8c_source.html#l00035">task2()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf24119bed702866a002a9fe1c74fbfd9"></a><!-- doxytag: member="os_core.h::OS_S_TO_TICK" ref="gaf24119bed702866a002a9fe1c74fbfd9" args="(time_s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_S_TO_TICK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">time_s</td><td>)</td>
          <td>&#160;&#160;&#160;((time_s) * CONFIG_OS_TICK_HZ)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert a delay in seconds to a number of ticks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time_s</td><td>The time (in s) to be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of ticks </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00369">369</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga260ec6e403c2b11725fc4e25bc063455"></a><!-- doxytag: member="os_semaphore.h::os_binary_semaphore_create" ref="ga260ec6e403c2b11725fc4e25bc063455" args="(struct os_semaphore *sem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_binary_semaphore_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a binary semaphore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>The un-initialized sempahore structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__semaphore_8h_source.html#l00053">53</a> of file <a class="el" href="os__semaphore_8h_source.html">os_semaphore.h</a>.</p>

<p>References <a class="el" href="os__semaphore_8h_source.html#l00043">os_semaphore_create()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
    <a class="code" href="group__group__os__public__api.html#gab9c5bc7c3f3fc5386f2cc4968d0ba6ed" title="Creates a counting semaphore.">os_semaphore_create</a>(sem, 1, 1);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga260ec6e403c2b11725fc4e25bc063455_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga260ec6e403c2b11725fc4e25bc063455_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga260ec6e403c2b11725fc4e25bc063455_cgraph" id="group__group__os__public__api_ga260ec6e403c2b11725fc4e25bc063455_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5327668478b8ed940f69c6cb1df04e26"></a><!-- doxytag: member="os_event.h::os_event_create_from_function" ref="ga5327668478b8ed940f69c6cb1df04e26" args="(struct os_event *event, bool(*trigger)(os_ptr_t), os_ptr_t args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_event_create_from_function </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>(*)(<a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>)&#160;</td>
          <td class="paramname"><em>trigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a custom event from a function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The un-initialized event structure to be filled </td></tr>
    <tr><td class="paramname">trigger</td><td>The boolean function to trigger the event. The event will be triggered when this function returns true. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to pass to the trigger function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00226">226</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00216">__os_event_custom_function_handler()</a>, <a class="el" href="os__event_8h_source.html#l00082">os_event_descriptor::is_triggered</a>, <a class="el" href="os__event_8c_source.html#l00021">os_event_create()</a>, and <a class="el" href="os__event_8c_source.html#l00210">__os_event_custom_function_args::trigger</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structos__event__descriptor.html" title="Event descriptor.">os_event_descriptor</a> descriptor = {
        .<a class="code" href="structos__event__descriptor.html#a1de34d4414099df02afe3b48533ae218" title="Check the status of an event.">is_triggered</a> = <a class="code" href="os__event_8c.html#a6435dee879fc99935a12f580005794d2">__os_event_custom_function_handler</a>
    };
    <span class="keyword">struct </span><a class="code" href="struct____os__event__custom__function__args.html">__os_event_custom_function_args</a> custom_args = {
        .<a class="code" href="struct____os__event__custom__function__args.html#a0708b469fb2c82d428664d8383e90461">trigger</a> = <a class="code" href="struct____os__event__custom__function__args.html#a0708b469fb2c82d428664d8383e90461">trigger</a>,
        .args = <a class="code" href="struct____os__event__custom__function__args.html#adcec3f261ea3bcc1f3fa822631a8a74b">args</a>
    };
    <a class="code" href="group__group__os__internal__api.html#gaa9577960e9f8fb3d8e69777d8f9040c6" title="Create a new event.">os_event_create</a>(event, &amp;descriptor, (<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>) &amp;custom_args);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga5327668478b8ed940f69c6cb1df04e26_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga5327668478b8ed940f69c6cb1df04e26_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga5327668478b8ed940f69c6cb1df04e26_cgraph" id="group__group__os__public__api_ga5327668478b8ed940f69c6cb1df04e26_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga032d6f1843bb998a4162c8798bfb23d3"></a><!-- doxytag: member="os_core.h::os_get_current_process" ref="ga032d6f1843bb998a4162c8798bfb23d3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__process.html">os_process</a>* os_get_current_process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current process. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer on the current procress </dd></dl>

<p>Definition at line <a class="el" href="os__core_8c_source.html#l00076">76</a> of file <a class="el" href="os__core_8c_source.html">os_core.c</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00042">os_current_process</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00086">__os_event_is_triggered()</a>, <a class="el" href="os__mutex_8c_source.html#l00047">os_mutex_lock()</a>, and <a class="el" href="os__mutex_8c_source.html#l00067">os_mutex_unlock()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga5519a6c0c370ff1c84ef6130ac5c36e3"></a><!-- doxytag: member="os_core.h::os_get_version" ref="ga5519a6c0c370ff1c84ef6130ac5c36e3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* os_get_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current version of the running operating system. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A string containing the version of the OS. </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00412">412</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00101">OS_VERSION</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
    <span class="keywordflow">return</span> <a class="code" href="os__core_8h.html#a8ee42974be7bd483db95ede8d81be518" title="Current version of the operating system.">OS_VERSION</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga2fb6522c1e8ff2b28c4bfad164b7d49e"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_from_process" ref="ga2fb6522c1e8ff2b28c4bfad164b7d49e" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structos__interrupt.html">os_interrupt</a>* os_interrupt_from_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the interrupt associated with a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>the process </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The interrupt pointer </dd></dl>

<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00084">84</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00252">container_of</a>, and <a class="el" href="os__interrupt_8h_source.html#l00023">os_interrupt::core</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                      {
    <span class="keywordflow">return</span> <a class="code" href="os__core_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(proc, <span class="keyword">struct</span> <a class="code" href="structos__interrupt.html" title="Software interrupt structure.">os_interrupt</a>, core);
}
</pre></div>
</div>
</div>
<a class="anchor" id="gae3f5b78918a466b5dea1df8b9772ced4"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_get_priority" ref="gae3f5b78918a466b5dea1df8b9772ced4" args="(struct os_interrupt *interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> os_interrupt_get_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the priority of a software interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The interrupt which priority is requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The interrupt priority </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gae9508efbc3a0a00fc489f54d6ec6abfc">CONFIG_OS_USE_PRIORITY</a> needs to be set first </dd></dl>

<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00121">121</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>References <a class="el" href="os__interrupt_8h_source.html#l00092">os_interrupt_get_process()</a>, and <a class="el" href="os__core_8h_source.html#l00495">os_process_get_priority()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                         {
    <span class="keywordflow">return</span> <a class="code" href="group__group__os__public__api.html#gaaf8fed0525d0c3bb570255721416bee7" title="Get the priority of a process.">os_process_get_priority</a>(<a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gae3f5b78918a466b5dea1df8b9772ced4_cgraph.gif" border="0" usemap="#group__group__os__public__api_gae3f5b78918a466b5dea1df8b9772ced4_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gae3f5b78918a466b5dea1df8b9772ced4_cgraph" id="group__group__os__public__api_gae3f5b78918a466b5dea1df8b9772ced4_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadc52db854e4b043e20efc16136ea5233"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_get_process" ref="gadc52db854e4b043e20efc16136ea5233" args="(struct os_interrupt *interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structos__process.html">os_process</a>* os_interrupt_get_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the interrupt process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The interrupt </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The process of the interrupt </dd></dl>

<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00092">92</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>References <a class="el" href="os__interrupt_8h_source.html#l00023">os_interrupt::core</a>.</p>

<p>Referenced by <a class="el" href="os__interrupt_8c_source.html#l00019">__os_interrupt_handler()</a>, <a class="el" href="os__interrupt_8h_source.html#l00121">os_interrupt_get_priority()</a>, <a class="el" href="os__interrupt_8h_source.html#l00112">os_interrupt_set_priority()</a>, <a class="el" href="os__interrupt_8c_source.html#l00033">os_interrupt_setup()</a>, <a class="el" href="os__interrupt_8h_source.html#l00101">os_interrupt_trigger()</a>, and <a class="el" href="os__event_8c_source.html#l00248">os_interrupt_trigger_on_event()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                          {
    <span class="keywordflow">return</span> &amp;interrupt-&gt;<a class="code" href="structos__interrupt.html#aa89fd307dd2edf4a9043cb1450d6b552" title="Task context of the interrupt.">core</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga91ae6c76302929a84af282241a03e2b7"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_set_priority" ref="ga91ae6c76302929a84af282241a03e2b7" args="(struct os_interrupt *interrupt, enum os_priority priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_interrupt_set_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the priority of a software interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The interrupt which needs some update </td></tr>
    <tr><td class="paramname">priority</td><td>The new priority </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gae9508efbc3a0a00fc489f54d6ec6abfc">CONFIG_OS_USE_PRIORITY</a> needs to be set first </dd></dl>

<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00112">112</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>References <a class="el" href="os__interrupt_8h_source.html#l00092">os_interrupt_get_process()</a>, and <a class="el" href="os__core_8h_source.html#l00484">os_process_set_priority()</a>.</p>

<p>Referenced by <a class="el" href="os__interrupt_8c_source.html#l00033">os_interrupt_setup()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                        {
    <a class="code" href="group__group__os__public__api.html#ga9ee7f5cabef074dbe97b342134103973" title="Change the priority of a process.">os_process_set_priority</a>(<a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt), priority);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga91ae6c76302929a84af282241a03e2b7_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga91ae6c76302929a84af282241a03e2b7_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga91ae6c76302929a84af282241a03e2b7_cgraph" id="group__group__os__public__api_ga91ae6c76302929a84af282241a03e2b7_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabc9c61a0974c0877abbd70ea8c5601f8"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_setup" ref="gabc9c61a0974c0877abbd70ea8c5601f8" args="(struct os_interrupt *interrupt, os_proc_ptr_t int_ptr, os_ptr_t args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_interrupt_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a>&#160;</td>
          <td class="paramname"><em>int_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup a software interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The non-initialized structure to hold the context of the software interrupt </td></tr>
    <tr><td class="paramname">int_ptr</td><td>A pointer on the interrupt handler (a interrupt handler is a normal function which follow the <a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a> prototype) </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to pass to the inerrupt handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__interrupt_8c_source.html#l00033">33</a> of file <a class="el" href="os__interrupt_8c_source.html">os_interrupt.c</a>.</p>

<p>References <a class="el" href="os__interrupt_8h_source.html#l00029">os_interrupt::args</a>, <a class="el" href="os__interrupt_8h_source.html#l00048">CONFIG_OS_INTERRUPT_DEFAULT_PRIORITY</a>, <a class="el" href="os__interrupt_8h_source.html#l00026">os_interrupt::int_ptr</a>, <a class="el" href="os__interrupt_8h_source.html#l00092">os_interrupt_get_process()</a>, <a class="el" href="os__interrupt_8h_source.html#l00112">os_interrupt_set_priority()</a>, <a class="el" href="os__core_8h_source.html#l00290">OS_PROCESS_TYPE_INTERRUPT</a>, <a class="el" href="os__core_8h_source.html#l00302">os_process::sp</a>, and <a class="el" href="os__core_8h_source.html#l00309">os_process::type</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Fill the structure</span>
    interrupt-&gt;<a class="code" href="structos__interrupt.html#a418e37c95ec2f929c3adf4de7c8bd1a1" title="Pointer in the interrupt handler.">int_ptr</a> = int_ptr;
    interrupt-&gt;<a class="code" href="structos__interrupt.html#a4a257500a9b4527c3733f22ef6afaf46" title="Arguments to pass to the interrupt handler.">args</a> = <a class="code" href="struct____os__event__custom__function__args.html#adcec3f261ea3bcc1f3fa822631a8a74b">args</a>;
    <span class="comment">// Setup the task to run in the application context</span>
    <a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt)-&gt;<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a> = NULL;
    <span class="comment">// Set process type</span>
    <a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt)-&gt;<a class="code" href="structos__process.html#a155eb028fa3559e76417c2f92833e85a" title="The type of the process.">type</a> = <a class="code" href="os__core_8h.html#a9469ceba4045fc9a6cdd1625f0b56e63a921943ccceeac2caf5f68a04f02f818b" title="Software interrupt (Software Interrupt)">OS_PROCESS_TYPE_INTERRUPT</a>;
<span class="preprocessor">#if CONFIG_OS_USE_PRIORITY == true</span>
<span class="preprocessor"></span>    <span class="comment">// Set default priority to the interrupt</span>
    <a class="code" href="group__group__os__public__api.html#ga91ae6c76302929a84af282241a03e2b7" title="Change the priority of a software interrupt.">os_interrupt_set_priority</a>(interrupt, <a class="code" href="group__group__os__config.html#ga51490992ffbc3ef55ef0aaf299a84267" title="Default priority assgined to an interrupt.">CONFIG_OS_INTERRUPT_DEFAULT_PRIORITY</a>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gabc9c61a0974c0877abbd70ea8c5601f8_cgraph.gif" border="0" usemap="#group__group__os__public__api_gabc9c61a0974c0877abbd70ea8c5601f8_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gabc9c61a0974c0877abbd70ea8c5601f8_cgraph" id="group__group__os__public__api_gabc9c61a0974c0877abbd70ea8c5601f8_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9a64ae1de25d9d4eea1e1f9871bcddfa"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_trigger" ref="ga9a64ae1de25d9d4eea1e1f9871bcddfa" args="(struct os_interrupt *interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_interrupt_trigger </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manually trigger a software interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The interrupt to trigger </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The interrupt must be previously setup with <a class="el" href="group__group__os__public__api.html#gabc9c61a0974c0877abbd70ea8c5601f8">os_interrupt_setup</a> </dd></dl>

<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00101">101</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>References <a class="el" href="os__interrupt_8h_source.html#l00092">os_interrupt_get_process()</a>, and <a class="el" href="os__core_8c_source.html#l00108">os_process_enable()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
    <a class="code" href="group__group__os__public__api.html#gae0e13a019be1d8bfa29bae998ad20def" title="Enable the execution a process.">os_process_enable</a>(<a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga9a64ae1de25d9d4eea1e1f9871bcddfa_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga9a64ae1de25d9d4eea1e1f9871bcddfa_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga9a64ae1de25d9d4eea1e1f9871bcddfa_cgraph" id="group__group__os__public__api_ga9a64ae1de25d9d4eea1e1f9871bcddfa_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga82c9493d0c50cd09a2cf9c9cf9ddb6ef"></a><!-- doxytag: member="os_interrupt.h::os_interrupt_trigger_on_event" ref="ga82c9493d0c50cd09a2cf9c9cf9ddb6ef" args="(struct os_interrupt *interrupt, struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_interrupt_trigger_on_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td>
          <td class="paramname"><em>interrupt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trigger an interrupt on a specific event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt</td><td>The interrupt to wakeup </td></tr>
    <tr><td class="paramname">event</td><td>The event used to trigger the interrupt </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gab1fd38fb6a4953b75aaba6e214852f79">CONFIG_OS_USE_EVENTS</a> needs to be set </dd></dl>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00248">248</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>, <a class="el" href="os__event_8c_source.html#l00080">__os_event_start()</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__interrupt_8h_source.html#l00092">os_interrupt_get_process()</a>, and <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
    <a class="code" href="os__event_8c.html#aa78431dfe3d5225cf757cce6afb47d94">__os_event_start</a>(event);
    <a class="code" href="group__group__os__internal__api.html#ga3d05056fe28a7e3b0fa74744187a095c" title="Associate a process with an event and enable the event.">__os_event_register</a>(event, <a class="code" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233" title="Get the interrupt process.">os_interrupt_get_process</a>(interrupt));
    <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga82c9493d0c50cd09a2cf9c9cf9ddb6ef_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga82c9493d0c50cd09a2cf9c9cf9ddb6ef_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga82c9493d0c50cd09a2cf9c9cf9ddb6ef_cgraph" id="group__group__os__public__api_ga82c9493d0c50cd09a2cf9c9cf9ddb6ef_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga687193e46bce359047d11aba4dea103f"></a><!-- doxytag: member="os_mutex.h::os_mutex_create" ref="ga687193e46bce359047d11aba4dea103f" args="(struct os_mutex *mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_mutex_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__mutex.html">os_mutex</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a mutex. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The un-initialized mutex structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__mutex_8h_source.html#l00040">40</a> of file <a class="el" href="os__mutex_8h_source.html">os_mutex.h</a>.</p>

<p>References <a class="el" href="os__mutex_8h_source.html#l00023">os_mutex::is_locked</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
    mutex-&gt;<a class="code" href="structos__mutex.html#a61b7d5b806c5f0570d70932696da2eb1" title="Defines if a mutex is locked or not.">is_locked</a> = <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga08425682c3e53ab8ed0622900dfa62b7"></a><!-- doxytag: member="os_mutex.h::os_mutex_create_event" ref="ga08425682c3e53ab8ed0622900dfa62b7" args="(struct os_event *event, struct os_mutex *mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_mutex_create_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__mutex.html">os_mutex</a> *&#160;</td>
          <td class="paramname"><em>mutex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an event from a mutex. The mutex must have been previously created before using this function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The un-initialized event structure </td></tr>
    <tr><td class="paramname">mutex</td><td>The mutex which will be linked to this event </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gab1fd38fb6a4953b75aaba6e214852f79">CONFIG_OS_USE_EVENTS</a> must be set </dd></dl>

<p>Definition at line <a class="el" href="os__mutex_8h_source.html#l00051">51</a> of file <a class="el" href="os__mutex_8h_source.html">os_mutex.h</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00021">os_event_create()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>.</p>
<div class="fragment"><pre class="fragment">                                {
    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structos__event__descriptor.html" title="Event descriptor.">os_event_descriptor</a> <a class="code" href="os__mutex_8c.html#a0355333abdc80dff85ce44f26eaca29b">mutex_event_descriptor</a>;
    <a class="code" href="group__group__os__internal__api.html#gaa9577960e9f8fb3d8e69777d8f9040c6" title="Create a new event.">os_event_create</a>(event, &amp;<a class="code" href="os__mutex_8c.html#a0355333abdc80dff85ce44f26eaca29b">mutex_event_descriptor</a>, (<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>) mutex);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga08425682c3e53ab8ed0622900dfa62b7_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga08425682c3e53ab8ed0622900dfa62b7_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga08425682c3e53ab8ed0622900dfa62b7_cgraph" id="group__group__os__public__api_ga08425682c3e53ab8ed0622900dfa62b7_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa4ada620c8cef5d96708efa7f302b072"></a><!-- doxytag: member="os_mutex.h::os_mutex_lock" ref="gaa4ada620c8cef5d96708efa7f302b072" args="(struct os_mutex *mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_mutex_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__mutex.html">os_mutex</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock a mutex. If the mutex is already locked, wait until it gets unlocked. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The mutex to be locked </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The mutex must have previously been created </dd></dl>

<p>Definition at line <a class="el" href="os__mutex_8c_source.html#l00047">47</a> of file <a class="el" href="os__mutex_8c_source.html">os_mutex.c</a>.</p>

<p>References <a class="el" href="os__mutex_8h_source.html#l00023">os_mutex::is_locked</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__core_8c_source.html#l00076">os_get_current_process()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, <a class="el" href="os__core_8c_source.html#l00167">os_yield()</a>, and <a class="el" href="os__mutex_8h_source.html#l00026">os_mutex::process</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> is_taken = <span class="keyword">false</span>;

    <span class="keywordflow">do</span> {
        <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
        <span class="keywordflow">if</span> (!mutex-&gt;<a class="code" href="structos__mutex.html#a61b7d5b806c5f0570d70932696da2eb1" title="Defines if a mutex is locked or not.">is_locked</a>) {
            mutex-&gt;<a class="code" href="structos__mutex.html#a61b7d5b806c5f0570d70932696da2eb1" title="Defines if a mutex is locked or not.">is_locked</a> = <span class="keyword">true</span>;
            mutex-&gt;<a class="code" href="structos__mutex.html#a2660a819bc333c5d9b2c0ced67c5a921" title="The process which locked the mutex.">process</a> = <a class="code" href="os__core_8c.html#a032d6f1843bb998a4162c8798bfb23d3" title="Get the current process.">os_get_current_process</a>();
            is_taken = <span class="keyword">true</span>;
        }
        <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();

        <span class="keywordflow">if</span> (!is_taken) {
            <a class="code" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686" title="Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperat...">os_yield</a>();
        }

    } <span class="keywordflow">while</span> (!is_taken);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gaa4ada620c8cef5d96708efa7f302b072_cgraph.gif" border="0" usemap="#group__group__os__public__api_gaa4ada620c8cef5d96708efa7f302b072_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gaa4ada620c8cef5d96708efa7f302b072_cgraph" id="group__group__os__public__api_gaa4ada620c8cef5d96708efa7f302b072_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae0b7d1afa98b5e274904593806677667"></a><!-- doxytag: member="os_mutex.h::os_mutex_unlock" ref="gae0b7d1afa98b5e274904593806677667" args="(struct os_mutex *mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_mutex_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__mutex.html">os_mutex</a> *&#160;</td>
          <td class="paramname"><em>mutex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Un-lock a mutex. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mutex</td><td>The mutex to be unlocked </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The mutex must have previously been created </dd></dl>

<p>Definition at line <a class="el" href="os__mutex_8c_source.html#l00067">67</a> of file <a class="el" href="os__mutex_8c_source.html">os_mutex.c</a>.</p>

<p>References <a class="el" href="os__mutex_8h_source.html#l00023">os_mutex::is_locked</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__core_8c_source.html#l00076">os_get_current_process()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, and <a class="el" href="os__mutex_8h_source.html#l00026">os_mutex::process</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00022">led_blink()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Only the process which locked the mutex can unlock it</span>
    <span class="keywordflow">if</span> (<a class="code" href="os__core_8c.html#a032d6f1843bb998a4162c8798bfb23d3" title="Get the current process.">os_get_current_process</a>() == mutex-&gt;<a class="code" href="structos__mutex.html#a2660a819bc333c5d9b2c0ced67c5a921" title="The process which locked the mutex.">process</a>) {
        <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
        mutex-&gt;<a class="code" href="structos__mutex.html#a61b7d5b806c5f0570d70932696da2eb1" title="Defines if a mutex is locked or not.">is_locked</a> = <span class="keyword">false</span>;
        <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gae0b7d1afa98b5e274904593806677667_cgraph.gif" border="0" usemap="#group__group__os__public__api_gae0b7d1afa98b5e274904593806677667_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gae0b7d1afa98b5e274904593806677667_cgraph" id="group__group__os__public__api_gae0b7d1afa98b5e274904593806677667_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf292791f2fa4380d7ad6069f1e206f9f"></a><!-- doxytag: member="os_core.h::os_process_disable" ref="gaf292791f2fa4380d7ad6069f1e206f9f" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_process_disable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable the execution of a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be disabled </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__core_8c_source.html#l00155">155</a> of file <a class="el" href="os__core_8c_source.html">os_core.c</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00134">__os_process_disable()</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, <a class="el" href="os__core_8c_source.html#l00119">os_process_is_enabled()</a>, and <a class="el" href="os__port_8h_source.html#l00073">os_switch_context</a>.</p>

<p>Referenced by <a class="el" href="os__core_8h_source.html#l00652">__os_process_application_disable()</a>, <a class="el" href="os__task_8h_source.html#l00108">os_task_delete()</a>, and <a class="el" href="os__task_8h_source.html#l00129">os_task_disable()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Unregister this process from the active process list</span>
    <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
    <span class="comment">// Make sure the process is enabled</span>
    <span class="keywordflow">if</span> (<a class="code" href="group__group__os__public__api.html#gaa0ef4301dd6970eb16d4afd6f66e5f67" title="Check wether a process is enabled or not.">os_process_is_enabled</a>(proc)) {
        <a class="code" href="group__group__os__internal__api.html#ga8b77e662e12b6ec1437ac678246f4441">__os_process_disable</a>(proc);
    }
    <a class="code" href="group__os__port__group.html#gae36200d59d62e81114d9330a2cab31c5" title="Context switch for a process.  Function used to schedule and switch between the processes.  This function will handle the return from a softwre interrupt. Therefore it can be optimized to bypass the saving context part IF an interrupt is running.">os_switch_context</a>(<span class="keyword">false</span>);
    <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gaf292791f2fa4380d7ad6069f1e206f9f_cgraph.gif" border="0" usemap="#group__group__os__public__api_gaf292791f2fa4380d7ad6069f1e206f9f_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gaf292791f2fa4380d7ad6069f1e206f9f_cgraph" id="group__group__os__public__api_gaf292791f2fa4380d7ad6069f1e206f9f_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae0e13a019be1d8bfa29bae998ad20def"></a><!-- doxytag: member="os_core.h::os_process_enable" ref="gae0e13a019be1d8bfa29bae998ad20def" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_process_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable the execution a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be enabled </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__core_8c_source.html#l00108">108</a> of file <a class="el" href="os__core_8c_source.html">os_core.c</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00081">__os_process_enable()</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, and <a class="el" href="os__core_8c_source.html#l00119">os_process_is_enabled()</a>.</p>

<p>Referenced by <a class="el" href="os__core_8h_source.html#l00645">__os_process_application_enable()</a>, <a class="el" href="os__interrupt_8h_source.html#l00101">os_interrupt_trigger()</a>, and <a class="el" href="os__task_8h_source.html#l00121">os_task_enable()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// The following code is critical</span>
    <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
    <span class="comment">// Make sure the task is not already enabled</span>
    <span class="keywordflow">if</span> (!<a class="code" href="group__group__os__public__api.html#gaa0ef4301dd6970eb16d4afd6f66e5f67" title="Check wether a process is enabled or not.">os_process_is_enabled</a>(proc)) {
        <a class="code" href="group__group__os__internal__api.html#gadbbc7ac6ede447e46f3abd0b43cf7279">__os_process_enable</a>(proc);
    }
    <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gae0e13a019be1d8bfa29bae998ad20def_cgraph.gif" border="0" usemap="#group__group__os__public__api_gae0e13a019be1d8bfa29bae998ad20def_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gae0e13a019be1d8bfa29bae998ad20def_cgraph" id="group__group__os__public__api_gae0e13a019be1d8bfa29bae998ad20def_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaf8fed0525d0c3bb570255721416bee7"></a><!-- doxytag: member="os_core.h::os_process_get_priority" ref="gaaf8fed0525d0c3bb570255721416bee7" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> os_process_get_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the priority of a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process which priority is requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The process priority </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gae9508efbc3a0a00fc489f54d6ec6abfc">CONFIG_OS_USE_PRIORITY</a> needs to be set first </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00495">495</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00316">os_process::priority_counter</a>.</p>

<p>Referenced by <a class="el" href="os__interrupt_8h_source.html#l00121">os_interrupt_get_priority()</a>, <a class="el" href="os__statistics_8c_source.html#l00066">os_statistics_task_cpu_allocation()</a>, and <a class="el" href="os__task_8h_source.html#l00099">os_task_get_priority()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                {
    <span class="keywordflow">return</span> proc-&gt;<a class="code" href="structos__process.html#a9b69f90332f3297e0a041e36f1fe6dae" title="Use to manage the process priorities.">priority_counter</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gaa2a70f2f4c0f8d7ebbb5589b2c5bce7f"></a><!-- doxytag: member="os_core.h::os_process_is_application" ref="gaa2a70f2f4c0f8d7ebbb5589b2c5bce7f" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_process_is_application </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a process is the application process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if this is the application process, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00445">445</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>Referenced by <a class="el" href="os__core_8c_source.html#l00081">__os_process_enable()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
    <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> <a class="code" href="os__core_8c.html#a8ff8ca073f1700d9729f30ccff2df5c1" title="Context of the application task.">os_app</a>;
    <span class="keywordflow">return</span> (proc == &amp;<a class="code" href="os__core_8c.html#a8ff8ca073f1700d9729f30ccff2df5c1" title="Context of the application task.">os_app</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="gaa0ef4301dd6970eb16d4afd6f66e5f67"></a><!-- doxytag: member="os_core.h::os_process_is_enabled" ref="gaa0ef4301dd6970eb16d4afd6f66e5f67" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_process_is_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check wether a process is enabled or not. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if enabled, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__core_8c_source.html#l00119">119</a> of file <a class="el" href="os__core_8c_source.html">os_core.c</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00306">os_process::next</a>.</p>

<p>Referenced by <a class="el" href="os__core_8c_source.html#l00155">os_process_disable()</a>, <a class="el" href="os__core_8c_source.html#l00108">os_process_enable()</a>, and <a class="el" href="os__task_8h_source.html#l00138">os_task_is_enabled()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Starts from the &quot;next&quot; element.</span>
    <span class="comment">// There is maximum 1 element on the path before reaching the circular</span>
    <span class="comment">// chain buffer.</span>
    <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> *last_proc = <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>;
    <span class="keywordflow">do</span> {
        <span class="keywordflow">if</span> (last_proc == proc) {
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        last_proc = last_proc-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>;
    } <span class="keywordflow">while</span> (last_proc != <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>);
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga80bd3d80f59a834380a14573d29e3785"></a><!-- doxytag: member="os_core.h::os_process_is_event" ref="ga80bd3d80f59a834380a14573d29e3785" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_process_is_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a process is the event scheduler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if this is the event scheduler, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00473">473</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00293">OS_PROCESS_TYPE_EVENT</a>, and <a class="el" href="os__core_8h_source.html#l00309">os_process::type</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
    <span class="keywordflow">return</span> (proc-&gt;<a class="code" href="structos__process.html#a155eb028fa3559e76417c2f92833e85a" title="The type of the process.">type</a> == <a class="code" href="os__core_8h.html#a9469ceba4045fc9a6cdd1625f0b56e63af3caddfd502b121285a1818b99efca5a" title="Event scheduler.">OS_PROCESS_TYPE_EVENT</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga0f5aa4b090b7594929ef92bb057c9566"></a><!-- doxytag: member="os_core.h::os_process_is_interrupt" ref="ga0f5aa4b090b7594929ef92bb057c9566" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_process_is_interrupt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a process is a software interrupt. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if this is a software interrupt, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00464">464</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00290">OS_PROCESS_TYPE_INTERRUPT</a>, and <a class="el" href="os__core_8h_source.html#l00309">os_process::type</a>.</p>
<div class="fragment"><pre class="fragment">                                                                    {
    <span class="keywordflow">return</span> (proc-&gt;<a class="code" href="structos__process.html#a155eb028fa3559e76417c2f92833e85a" title="The type of the process.">type</a> == <a class="code" href="os__core_8h.html#a9469ceba4045fc9a6cdd1625f0b56e63a921943ccceeac2caf5f68a04f02f818b" title="Software interrupt (Software Interrupt)">OS_PROCESS_TYPE_INTERRUPT</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="gadbb9c0f37340b0dc1dbf2f169e45ab47"></a><!-- doxytag: member="os_core.h::os_process_is_task" ref="gadbb9c0f37340b0dc1dbf2f169e45ab47" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_process_is_task </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a process is a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if this is a task, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00455">455</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00287">OS_PROCESS_TYPE_TASK</a>, and <a class="el" href="os__core_8h_source.html#l00309">os_process::type</a>.</p>

<p>Referenced by <a class="el" href="os__statistics_8c_source.html#l00066">os_statistics_task_cpu_allocation()</a>, and <a class="el" href="os__task_8c_source.html#l00072">os_task_get_current()</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
    <span class="keywordflow">return</span> (proc-&gt;<a class="code" href="structos__process.html#a155eb028fa3559e76417c2f92833e85a" title="The type of the process.">type</a> == <a class="code" href="os__core_8h.html#a9469ceba4045fc9a6cdd1625f0b56e63a345193eb6642ff8f07890b36a3ea0839" title="Task (Task)">OS_PROCESS_TYPE_TASK</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga9ee7f5cabef074dbe97b342134103973"></a><!-- doxytag: member="os_core.h::os_process_set_priority" ref="ga9ee7f5cabef074dbe97b342134103973" args="(struct os_process *proc, enum os_priority priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_process_set_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the priority of a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>The process which needs some update </td></tr>
    <tr><td class="paramname">priority</td><td>The new priority </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gae9508efbc3a0a00fc489f54d6ec6abfc">CONFIG_OS_USE_PRIORITY</a> needs to be set first </dd></dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00484">484</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00313">os_process::priority</a>, and <a class="el" href="os__core_8h_source.html#l00316">os_process::priority_counter</a>.</p>

<p>Referenced by <a class="el" href="os__interrupt_8h_source.html#l00112">os_interrupt_set_priority()</a>, and <a class="el" href="os__task_8h_source.html#l00091">os_task_set_priority()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                               {
    <span class="comment">// Not critical so no need to use the os_enter_critical function</span>
    proc-&gt;<a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a> = <a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a>;
    proc-&gt;<a class="code" href="structos__process.html#a9b69f90332f3297e0a041e36f1fe6dae" title="Use to manage the process priorities.">priority_counter</a> = <a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gab9c5bc7c3f3fc5386f2cc4968d0ba6ed"></a><!-- doxytag: member="os_semaphore.h::os_semaphore_create" ref="gab9c5bc7c3f3fc5386f2cc4968d0ba6ed" args="(struct os_semaphore *sem, uint16_t counter, uint16_t initial_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_semaphore_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>initial_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a counting semaphore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>The un-initialized sempahore structure </td></tr>
    <tr><td class="paramname">counter</td><td>The maximum count value that can be reached </td></tr>
    <tr><td class="paramname">initial_count</td><td>The count value assigned to the semaphore when it is created </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__semaphore_8h_source.html#l00043">43</a> of file <a class="el" href="os__semaphore_8h_source.html">os_semaphore.h</a>.</p>

<p>References <a class="el" href="os__semaphore_8h_source.html#l00023">os_semaphore::counter</a>, and <a class="el" href="os__semaphore_8h_source.html#l00026">os_semaphore::max</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>, and <a class="el" href="os__semaphore_8h_source.html#l00053">os_binary_semaphore_create()</a>.</p>
<div class="fragment"><pre class="fragment">                                {
    sem-&gt;<a class="code" href="structos__semaphore.html#a39715b911390d699500289a55d2e988a" title="Counter to hold the current number of free semaphores.">counter</a> = initial_count;
    sem-&gt;<a class="code" href="structos__semaphore.html#ab46aedec41668ca615187856930241bf" title="Maximum semaphore available.">max</a> = counter;
}
</pre></div>
</div>
</div>
<a class="anchor" id="gad98193a9f28a3120426778e99482a708"></a><!-- doxytag: member="os_semaphore.h::os_semaphore_create_event" ref="gad98193a9f28a3120426778e99482a708" args="(struct os_event *event, struct os_semaphore *sem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_semaphore_create_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *&#160;</td>
          <td class="paramname"><em>sem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an event from a semaphore. The sempahore must have been previously created before using this function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>The un-initialized event structure </td></tr>
    <tr><td class="paramname">sem</td><td>The semaphore which will be linked to this event </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gab1fd38fb6a4953b75aaba6e214852f79">CONFIG_OS_USE_EVENTS</a> must be set </dd></dl>

<p>Definition at line <a class="el" href="os__semaphore_8h_source.html#l00064">64</a> of file <a class="el" href="os__semaphore_8h_source.html">os_semaphore.h</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00021">os_event_create()</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structos__event__descriptor.html" title="Event descriptor.">os_event_descriptor</a> <a class="code" href="os__semaphore_8c.html#a676e964cabcd896eb09a9f1120f5658f">semaphore_event_descriptor</a>;
    <a class="code" href="group__group__os__internal__api.html#gaa9577960e9f8fb3d8e69777d8f9040c6" title="Create a new event.">os_event_create</a>(event, &amp;<a class="code" href="os__semaphore_8c.html#a676e964cabcd896eb09a9f1120f5658f">semaphore_event_descriptor</a>, (<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>) sem);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gad98193a9f28a3120426778e99482a708_cgraph.gif" border="0" usemap="#group__group__os__public__api_gad98193a9f28a3120426778e99482a708_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gad98193a9f28a3120426778e99482a708_cgraph" id="group__group__os__public__api_gad98193a9f28a3120426778e99482a708_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga93796eb1fdad55b62be5de91fccb7952"></a><!-- doxytag: member="os_semaphore.h::os_semaphore_release" ref="ga93796eb1fdad55b62be5de91fccb7952" args="(struct os_semaphore *sem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_semaphore_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases a semaphore. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>The semaphore to release </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The semaphore must have previously been created </dd></dl>

<p>Definition at line <a class="el" href="os__semaphore_8c_source.html#l00075">75</a> of file <a class="el" href="os__semaphore_8c_source.html">os_semaphore.c</a>.</p>

<p>References <a class="el" href="os__semaphore_8h_source.html#l00023">os_semaphore::counter</a>, <a class="el" href="os__semaphore_8h_source.html#l00026">os_semaphore::max</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, and <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
    <span class="keywordflow">if</span> (sem-&gt;<a class="code" href="structos__semaphore.html#a39715b911390d699500289a55d2e988a" title="Counter to hold the current number of free semaphores.">counter</a> &lt; sem-&gt;<a class="code" href="structos__semaphore.html#ab46aedec41668ca615187856930241bf" title="Maximum semaphore available.">max</a>) {
        sem-&gt;<a class="code" href="structos__semaphore.html#a39715b911390d699500289a55d2e988a" title="Counter to hold the current number of free semaphores.">counter</a>++;
    }
    <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga93796eb1fdad55b62be5de91fccb7952_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga93796eb1fdad55b62be5de91fccb7952_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga93796eb1fdad55b62be5de91fccb7952_cgraph" id="group__group__os__public__api_ga93796eb1fdad55b62be5de91fccb7952_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga14089e1d955db03a545cdca18de265e2"></a><!-- doxytag: member="os_semaphore.h::os_semaphore_take" ref="ga14089e1d955db03a545cdca18de265e2" args="(struct os_semaphore *sem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_semaphore_take </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__semaphore.html">os_semaphore</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Take a semaphore. If no semaphore is available, wait until it gets free. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sem</td><td>The semaphore to take </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>The semaphore must have previously been created </dd></dl>

<p>Definition at line <a class="el" href="os__semaphore_8c_source.html#l00056">56</a> of file <a class="el" href="os__semaphore_8c_source.html">os_semaphore.c</a>.</p>

<p>References <a class="el" href="os__semaphore_8h_source.html#l00023">os_semaphore::counter</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, and <a class="el" href="os__core_8c_source.html#l00167">os_yield()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> is_taken = <span class="keyword">false</span>;

    <span class="keywordflow">do</span> {
        <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
        <span class="keywordflow">if</span> (sem-&gt;<a class="code" href="structos__semaphore.html#a39715b911390d699500289a55d2e988a" title="Counter to hold the current number of free semaphores.">counter</a> &gt; 0) {
            sem-&gt;<a class="code" href="structos__semaphore.html#a39715b911390d699500289a55d2e988a" title="Counter to hold the current number of free semaphores.">counter</a>--;
            is_taken = <span class="keyword">true</span>;
        }
        <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();

        <span class="keywordflow">if</span> (!is_taken) {
            <a class="code" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686" title="Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperat...">os_yield</a>();
        }

    } <span class="keywordflow">while</span> (!is_taken);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga14089e1d955db03a545cdca18de265e2_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga14089e1d955db03a545cdca18de265e2_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga14089e1d955db03a545cdca18de265e2_cgraph" id="group__group__os__public__api_ga14089e1d955db03a545cdca18de265e2_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga33dd8cccd647bfabacee2c2b9119939d"></a><!-- doxytag: member="os_core.h::os_start" ref="ga33dd8cccd647bfabacee2c2b9119939d" args="(uint32_t ref_hz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ref_hz</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the task scheduling process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_hz</td><td>The frequency which runs the peripheral to generate the ticks. Usually this frequency is equal to the CPU frequency. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__core_8h_source.html#l00393">393</a> of file <a class="el" href="os__core_8h_source.html">os_core.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00234">HOOK_OS_IDLE</a>, <a class="el" href="os__event_8c_source.html#l00166">os_event_scheduler()</a>, <a class="el" href="uc3__port_8c_source.html#l00037">os_setup_scheduler()</a>, and <a class="el" href="os__core_8c_source.html#l00167">os_yield()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
    <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__os__port__group.html#ga3950e19158970000b838014a821fa8d8" title="Setup the task scheduler interrupt.">os_setup_scheduler</a>(uint32_t);
<span class="preprocessor">#if CONFIG_OS_SCHEDULER_TYPE != CONFIG_OS_SCHEDULER_COOPERATIVE</span>
<span class="preprocessor"></span>    <span class="comment">// Setup the scheduler</span>
    <a class="code" href="group__os__port__group.html#ga3950e19158970000b838014a821fa8d8" title="Setup the task scheduler interrupt.">os_setup_scheduler</a>(ref_hz);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// Launch the scheduler</span>
    <a class="code" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686" title="Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperat...">os_yield</a>();
    <span class="comment">// Idle loop</span>
    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
        <span class="keywordflow">if</span> (!<a class="code" href="group__group__os__internal__api.html#ga85539731c6f6d545b066130922dddfe7" title="Event scheduler.">os_event_scheduler</a>()) {
            <a class="code" href="group__os__hook.html#ga94c9d19bd7fdc56eb7fe11fada5d43b1" title="This hook is called when no task is running and the application runs in the IDLE loop.">HOOK_OS_IDLE</a>();
        }
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga33dd8cccd647bfabacee2c2b9119939d_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga33dd8cccd647bfabacee2c2b9119939d_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga33dd8cccd647bfabacee2c2b9119939d_cgraph" id="group__group__os__public__api_ga33dd8cccd647bfabacee2c2b9119939d_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafddc84d046059c6db3c379e85bf19cd2"></a><!-- doxytag: member="os_statistics.h::os_statistics_get_task_switch_time" ref="gafddc84d046059c6db3c379e85bf19cd2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__port_8h.html#a4dd1a84df1907b33af17aab741eb1388">os_cy_t</a> os_statistics_get_task_switch_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the average time of the context task switching in number of cycles. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of cycles of the average context switching time </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#ga7bda9b41d19414bcd47514c98c41df87">CONFIG_OS_STATISTICS_TASK_SWITCHING</a> must be set </dd></dl>

<p>Definition at line <a class="el" href="os__statistics_8c_source.html#l00051">51</a> of file <a class="el" href="os__statistics_8c_source.html">os_statistics.c</a>.</p>

<p>References <a class="el" href="os__statistics_8c_source.html#l00028">task_switch_max_cy</a>, and <a class="el" href="os__statistics_8c_source.html#l00027">task_switch_min_cy</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00035">task2()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<a class="code" href="os__statistics_8c.html#a381aa676909fe481d9be98675f4b43d7">task_switch_max_cy</a> + <a class="code" href="os__statistics_8c.html#a46f9d9ea17102c4f90b0ad8b6badc45f">task_switch_min_cy</a>) / 2;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga9d235d61bb580b9daee8455da2e52296"></a><!-- doxytag: member="os_statistics.h::os_statistics_get_task_switch_time_jitter" ref="ga9d235d61bb580b9daee8455da2e52296" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__port_8h.html#a4dd1a84df1907b33af17aab741eb1388">os_cy_t</a> os_statistics_get_task_switch_time_jitter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the jitter of the context task switching in number of cycles. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of cycles of the switching time jitter </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#ga7bda9b41d19414bcd47514c98c41df87">CONFIG_OS_STATISTICS_TASK_SWITCHING</a> must be set </dd></dl>

<p>Definition at line <a class="el" href="os__statistics_8c_source.html#l00046">46</a> of file <a class="el" href="os__statistics_8c_source.html">os_statistics.c</a>.</p>

<p>References <a class="el" href="os__statistics_8c_source.html#l00028">task_switch_max_cy</a>, and <a class="el" href="os__statistics_8c_source.html#l00027">task_switch_min_cy</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00035">task2()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<a class="code" href="os__statistics_8c.html#a381aa676909fe481d9be98675f4b43d7">task_switch_max_cy</a> - <a class="code" href="os__statistics_8c.html#a46f9d9ea17102c4f90b0ad8b6badc45f">task_switch_min_cy</a>) / 2;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga8be07c8cf779948a051afc62855cec51"></a><!-- doxytag: member="os_task.h::os_task_create" ref="ga8be07c8cf779948a051afc62855cec51" args="(struct os_task *task, os_proc_ptr_t task_ptr, os_ptr_t args, int stack_size, enum os_task_option options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_task_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a>&#160;</td>
          <td class="paramname"><em>task_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252">os_task_option</a>&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new task. By default, the new task will be automatically added to the active task list unless specified. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>A pointer on an empty structure which will contain the context of the current task. </td></tr>
    <tr><td class="paramname">task_ptr</td><td>Entry point of the task to be run. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to pass to the task </td></tr>
    <tr><td class="paramname">stack_size</td><td>The size of the stack in byte </td></tr>
    <tr><td class="paramname">options</td><td>Specific options for the task (see <a class="el" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252">os_task_option</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the task has been correctly registered, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="os__task_8c_source.html#l00037">37</a> of file <a class="el" href="os__task_8c_source.html">os_task.c</a>.</p>

<p>References <a class="el" href="group__group__os__config.html#gae5b3c2b8d36b946b40f2cb0fcaa9d45c">CONFIG_OS_TASK_DEFAULT_PRIORITY</a>, <a class="el" href="os__task_8h_source.html#l00024">os_task::core</a>, <a class="el" href="os__debug_8h_source.html#l00037">HOOK_OS_DEBUG_TASK_ADD</a>, <a class="el" href="os__task_8h_source.html#l00030">os_task::options</a>, <a class="el" href="os__core_8h_source.html#l00561">os_malloc()</a>, <a class="el" href="uc3__port_8c_source.html#l00258">os_process_context_load()</a>, <a class="el" href="os__core_8h_source.html#l00287">OS_PROCESS_TYPE_TASK</a>, <a class="el" href="os__task_8h_source.html#l00011">OS_TASK_DISABLE</a>, <a class="el" href="os__task_8h_source.html#l00121">os_task_enable()</a>, <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>, <a class="el" href="os__task_8h_source.html#l00091">os_task_set_priority()</a>, <a class="el" href="os__task_8h_source.html#l00016">OS_TASK_USE_CUSTOM_STACK</a>, <a class="el" href="os__core_8h_source.html#l00302">os_process::sp</a>, <a class="el" href="os__task_8h_source.html#l00027">os_task::stack</a>, and <a class="el" href="os__core_8h_source.html#l00309">os_process::type</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00052">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#if CONFIG_OS_USE_MALLOC == true</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (!(options &amp; <a class="code" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252a87d1750ba67b1309236eb524fe0ad804" title="Use a custom stack for this task. The user must previously allocate memory for os_task::stack. This option is available only if CONFIG_OS_USE_MALLOC is set.">OS_TASK_USE_CUSTOM_STACK</a>)) {
        <span class="comment">// Allocate memory for the stack size</span>
        <span class="keywordflow">if</span> (!(task-&gt;<a class="code" href="structos__task.html#a71fd7e8a632ae95b2d2711b06f17010c" title="A pointer on a memory space reserved for the stack.">stack</a> = <a class="code" href="group__os__port__group.html#ga7490a7a8211d044d1cf3cb7fe91ef8ca" title="Allocate some memory for the stack of a task.">os_malloc</a>(stack_size))) {
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span><span class="preprocessor">#if CONFIG_OS_DEBUG == true</span>
<span class="preprocessor"></span>    <a class="code" href="os__debug_8h.html#a7a94bf5f0a9d62cd3e13451f6d91bd18">HOOK_OS_DEBUG_TASK_ADD</a>();
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// Save the options</span>
    task-&gt;<a class="code" href="structos__task.html#a854c3fd8e993dc5f8e96cb3eeb56a782" title="Task options.">options</a> = options;
    <span class="comment">// Move the SP pointer to the end of the stack</span>
    <a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task)-&gt;<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a> = &amp;task-&gt;<a class="code" href="structos__task.html#a71fd7e8a632ae95b2d2711b06f17010c" title="A pointer on a memory space reserved for the stack.">stack</a>[stack_size];
    <span class="comment">// Set process type</span>
    <a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task)-&gt;<a class="code" href="structos__process.html#a155eb028fa3559e76417c2f92833e85a" title="The type of the process.">type</a> = <a class="code" href="os__core_8h.html#a9469ceba4045fc9a6cdd1625f0b56e63a345193eb6642ff8f07890b36a3ea0839" title="Task (Task)">OS_PROCESS_TYPE_TASK</a>;
<span class="preprocessor">#if CONFIG_OS_USE_PRIORITY == true</span>
<span class="preprocessor"></span>    <a class="code" href="group__group__os__public__api.html#gab48300804c48db05d1bc8eb64302fcbd" title="Set a priority to a task.">os_task_set_priority</a>(task, <a class="code" href="group__group__os__config.html#gae5b3c2b8d36b946b40f2cb0fcaa9d45c" title="Default priority assgined to a task.">CONFIG_OS_TASK_DEFAULT_PRIORITY</a>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">// Load context</span>
    <span class="keywordflow">if</span> (!<a class="code" href="group__os__port__group.html#ga61a509098660222d7a1853c1c4646528" title="Load the context of a task into the stack. this is the inital process which will setup the stack befo...">os_process_context_load</a>(&amp;task-&gt;<a class="code" href="structos__task.html#a0d63a0a7f74b7a063db1df3f55c965b0" title="Minimal context.">core</a>, task_ptr, args)) {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="comment">// Enable the task</span>
    <span class="keywordflow">if</span> (!(options &amp; <a class="code" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252ab44271d391a8d271c2b54685e020bbf6" title="Disable the task before its execution.  It can be enable at any time using os_task_enable.">OS_TASK_DISABLE</a>)) {
        <a class="code" href="group__group__os__public__api.html#ga429aaa6bd845aaa8781e37ec899c56b0" title="Enable the execution a task.">os_task_enable</a>(task);
    }

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga8be07c8cf779948a051afc62855cec51_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga8be07c8cf779948a051afc62855cec51_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga8be07c8cf779948a051afc62855cec51_cgraph" id="group__group__os__public__api_ga8be07c8cf779948a051afc62855cec51_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0263de3d6f2a393b05cff092ef6038b3"></a><!-- doxytag: member="os_task.h::os_task_delay" ref="ga0263de3d6f2a393b05cff092ef6038b3" args="(os_tick_t tick_nb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_task_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__core_8h.html#a38ef3fb720f7928704ee6e16452ff26e">os_tick_t</a>&#160;</td>
          <td class="paramname"><em>tick_nb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Block the execution of a task until a number of ticks have passed.<a class="el" href="group__group__os__config.html#ga44dcb5adb4f9a48ee335561cbd703952">CONFIG_OS_TICK_HZ</a> can be used to estimate a time delay. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tick_nb</td><td>The number of ticks to wait for </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gadb333e78b42697f4e5c35d23c30f0103">CONFIG_OS_USE_TICK_COUNTER</a> needs to be set first. </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This functon needs the preemptive scheduler to run. Therefore, it cannot be used inside an interrupt or any other piece of code where the tick interrupt is disabled. </dd></dl>

<p>Definition at line <a class="el" href="os__task_8c_source.html#l00018">18</a> of file <a class="el" href="os__task_8c_source.html">os_task.c</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00167">os_yield()</a>, and <a class="el" href="os__core_8c_source.html#l00047">tick_counter</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00022">led_blink()</a>, and <a class="el" href="main_8c_source.html#l00035">task2()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">extern</span> <span class="keyword">volatile</span> <a class="code" href="os__core_8h.html#a38ef3fb720f7928704ee6e16452ff26e" title="Type to define a number of ticks.">os_tick_t</a> <a class="code" href="os__core_8c.html#ad4c76cdc3ec21a192769c94765993d05" title="Tick counter.">tick_counter</a>;

    <a class="code" href="os__core_8h.html#a38ef3fb720f7928704ee6e16452ff26e" title="Type to define a number of ticks.">os_tick_t</a> start_tick, last_tick;
    start_tick = <a class="code" href="os__core_8c.html#ad4c76cdc3ec21a192769c94765993d05" title="Tick counter.">tick_counter</a>;
    last_tick = tick_counter + tick_nb;
    <span class="comment">// Check if the counter has been wrapped</span>
    <span class="keywordflow">if</span> (last_tick &lt; start_tick) {
        <span class="keywordflow">while</span> (tick_counter &gt; start_tick) {
            <a class="code" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686" title="Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperat...">os_yield</a>();
        }
    }
    <span class="keywordflow">while</span> (tick_counter &lt; last_tick) {
        <a class="code" href="group__group__os__public__api.html#ga02d2fa79b4b720c7906a7262740db686" title="Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperat...">os_yield</a>();
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga0263de3d6f2a393b05cff092ef6038b3_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga0263de3d6f2a393b05cff092ef6038b3_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga0263de3d6f2a393b05cff092ef6038b3_cgraph" id="group__group__os__public__api_ga0263de3d6f2a393b05cff092ef6038b3_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga21ffc9e663b97a90916a01579cd7b78c"></a><!-- doxytag: member="os_task.h::os_task_delete" ref="ga21ffc9e663b97a90916a01579cd7b78c" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_task_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be deleted </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00108">108</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__task_8h_source.html#l00030">os_task::options</a>, <a class="el" href="os__core_8h_source.html#l00572">os_free()</a>, <a class="el" href="os__core_8c_source.html#l00155">os_process_disable()</a>, <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>, <a class="el" href="os__task_8h_source.html#l00016">OS_TASK_USE_CUSTOM_STACK</a>, and <a class="el" href="os__task_8h_source.html#l00027">os_task::stack</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
    <a class="code" href="group__group__os__public__api.html#gaf292791f2fa4380d7ad6069f1e206f9f" title="Disable the execution of a process.">os_process_disable</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
    <span class="comment">// Free the task stack if needed</span>
    <span class="keywordflow">if</span> (!(task-&gt;<a class="code" href="structos__task.html#a854c3fd8e993dc5f8e96cb3eeb56a782" title="Task options.">options</a> &amp; <a class="code" href="os__task_8h.html#ab7c3c82aa94cdf350c0ea4526529f252a87d1750ba67b1309236eb524fe0ad804" title="Use a custom stack for this task. The user must previously allocate memory for os_task::stack. This option is available only if CONFIG_OS_USE_MALLOC is set.">OS_TASK_USE_CUSTOM_STACK</a>)) {
        <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__os__port__group.html#ga5ec2153c49756d277aa7b4a84708173e" title="Free memory previously allocated by os_malloc.">os_free</a>(<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> ptr);
        <a class="code" href="group__os__port__group.html#ga5ec2153c49756d277aa7b4a84708173e" title="Free memory previously allocated by os_malloc.">os_free</a>(task-&gt;<a class="code" href="structos__task.html#a71fd7e8a632ae95b2d2711b06f17010c" title="A pointer on a memory space reserved for the stack.">stack</a>);
    }
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga21ffc9e663b97a90916a01579cd7b78c_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga21ffc9e663b97a90916a01579cd7b78c_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga21ffc9e663b97a90916a01579cd7b78c_cgraph" id="group__group__os__public__api_ga21ffc9e663b97a90916a01579cd7b78c_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaec2cc9afe1625f415412dc2a0d3f2225"></a><!-- doxytag: member="os_task.h::os_task_disable" ref="gaec2cc9afe1625f415412dc2a0d3f2225" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_task_disable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable the execution of a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be disabled </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00129">129</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00155">os_process_disable()</a>, and <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
    <a class="code" href="group__group__os__public__api.html#gaf292791f2fa4380d7ad6069f1e206f9f" title="Disable the execution of a process.">os_process_disable</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gaec2cc9afe1625f415412dc2a0d3f2225_cgraph.gif" border="0" usemap="#group__group__os__public__api_gaec2cc9afe1625f415412dc2a0d3f2225_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gaec2cc9afe1625f415412dc2a0d3f2225_cgraph" id="group__group__os__public__api_gaec2cc9afe1625f415412dc2a0d3f2225_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga429aaa6bd845aaa8781e37ec899c56b0"></a><!-- doxytag: member="os_task.h::os_task_enable" ref="ga429aaa6bd845aaa8781e37ec899c56b0" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_task_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable the execution a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be enabled </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00121">121</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00108">os_process_enable()</a>, and <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>.</p>

<p>Referenced by <a class="el" href="os__task_8c_source.html#l00037">os_task_create()</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
    <a class="code" href="group__group__os__public__api.html#gae0e13a019be1d8bfa29bae998ad20def" title="Enable the execution a process.">os_process_enable</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga429aaa6bd845aaa8781e37ec899c56b0_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga429aaa6bd845aaa8781e37ec899c56b0_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga429aaa6bd845aaa8781e37ec899c56b0_cgraph" id="group__group__os__public__api_ga429aaa6bd845aaa8781e37ec899c56b0_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga722e3717a8528f5f5e7cec1c28c9c436"></a><!-- doxytag: member="os_task.h::os_task_from_process" ref="ga722e3717a8528f5f5e7cec1c28c9c436" args="(struct os_process *proc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structos__task.html">os_task</a>* os_task_from_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td>
          <td class="paramname"><em>proc</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the task associated with a process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td>the process </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The task pointer </dd></dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00072">72</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00252">container_of</a>, and <a class="el" href="os__task_8h_source.html#l00024">os_task::core</a>.</p>

<p>Referenced by <a class="el" href="os__task_8c_source.html#l00072">os_task_get_current()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
    <span class="keywordflow">return</span> <a class="code" href="os__core_8h.html#af8c317a42292b61c93aae91e59118a46">container_of</a>(proc, <span class="keyword">struct</span> <a class="code" href="structos__task.html">os_task</a>, core);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga2b912496ac881b95be87fbc600b22f26"></a><!-- doxytag: member="os_task.h::os_task_get_current" ref="ga2b912496ac881b95be87fbc600b22f26" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__task.html">os_task</a>* os_task_get_current </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current running task. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the current task. NULL if none is running. </dd></dl>

<p>Definition at line <a class="el" href="os__task_8c_source.html#l00072">72</a> of file <a class="el" href="os__task_8c_source.html">os_task.c</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00042">os_current_process</a>, <a class="el" href="os__core_8h_source.html#l00455">os_process_is_task()</a>, and <a class="el" href="os__task_8h_source.html#l00072">os_task_from_process()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00022">led_blink()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> *<a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>;
    <span class="keywordflow">if</span> (<a class="code" href="group__group__os__public__api.html#gadbb9c0f37340b0dc1dbf2f169e45ab47" title="Check if a process is a task.">os_process_is_task</a>(os_current_process)) {
        <span class="keywordflow">return</span> <a class="code" href="group__group__os__public__api.html#ga722e3717a8528f5f5e7cec1c28c9c436" title="Get the task associated with a process.">os_task_from_process</a>(os_current_process);
    }
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga2b912496ac881b95be87fbc600b22f26_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga2b912496ac881b95be87fbc600b22f26_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga2b912496ac881b95be87fbc600b22f26_cgraph" id="group__group__os__public__api_ga2b912496ac881b95be87fbc600b22f26_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga572673dad1f1525b17c5822c4f6bf797"></a><!-- doxytag: member="os_task.h::os_task_get_priority" ref="ga572673dad1f1525b17c5822c4f6bf797" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> os_task_get_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the priority of a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The priority of the task </dd></dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00099">99</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00495">os_process_get_priority()</a>, and <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
    <span class="keywordflow">return</span> <a class="code" href="group__group__os__public__api.html#gaaf8fed0525d0c3bb570255721416bee7" title="Get the priority of a process.">os_process_get_priority</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga572673dad1f1525b17c5822c4f6bf797_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga572673dad1f1525b17c5822c4f6bf797_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga572673dad1f1525b17c5822c4f6bf797_cgraph" id="group__group__os__public__api_ga572673dad1f1525b17c5822c4f6bf797_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac7e44f93fb27ec80a0319b3cbc830c9a"></a><!-- doxytag: member="os_task.h::os_task_get_process" ref="gac7e44f93fb27ec80a0319b3cbc830c9a" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structos__process.html">os_process</a>* os_task_get_process </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the task process. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The process of the task </dd></dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00081">81</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__task_8h_source.html#l00024">os_task::core</a>.</p>

<p>Referenced by <a class="el" href="os__statistics_8c_source.html#l00066">os_statistics_task_cpu_allocation()</a>, <a class="el" href="os__task_8c_source.html#l00037">os_task_create()</a>, <a class="el" href="os__task_8h_source.html#l00108">os_task_delete()</a>, <a class="el" href="os__task_8h_source.html#l00129">os_task_disable()</a>, <a class="el" href="os__task_8h_source.html#l00121">os_task_enable()</a>, <a class="el" href="os__task_8h_source.html#l00099">os_task_get_priority()</a>, <a class="el" href="os__task_8h_source.html#l00138">os_task_is_enabled()</a>, <a class="el" href="os__task_8h_source.html#l00091">os_task_set_priority()</a>, and <a class="el" href="os__event_8c_source.html#l00258">os_task_sleep()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                           {
    <span class="keywordflow">return</span> &amp;task-&gt;<a class="code" href="structos__task.html#a0d63a0a7f74b7a063db1df3f55c965b0" title="Minimal context.">core</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ga598f01e16df2725f534828f57cf679c9"></a><!-- doxytag: member="os_task.h::os_task_is_enabled" ref="ga598f01e16df2725f534828f57cf679c9" args="(struct os_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="compiler_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> os_task_is_enabled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check wether a task is enabled or not. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if enabled, false otherwise </dd></dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00138">138</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8c_source.html#l00119">os_process_is_enabled()</a>, and <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>.</p>

<p>Referenced by <a class="el" href="os__event_8c_source.html#l00258">os_task_sleep()</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
    <span class="keywordflow">return</span> <a class="code" href="group__group__os__public__api.html#gaa0ef4301dd6970eb16d4afd6f66e5f67" title="Check wether a process is enabled or not.">os_process_is_enabled</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga598f01e16df2725f534828f57cf679c9_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga598f01e16df2725f534828f57cf679c9_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga598f01e16df2725f534828f57cf679c9_cgraph" id="group__group__os__public__api_ga598f01e16df2725f534828f57cf679c9_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab48300804c48db05d1bc8eb64302fcbd"></a><!-- doxytag: member="os_task.h::os_task_set_priority" ref="gab48300804c48db05d1bc8eb64302fcbd" args="(struct os_task *task, enum os_priority priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void os_task_set_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a priority to a task. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task </td></tr>
    <tr><td class="paramname">priority</td><td>The priority to set </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="os__task_8h_source.html#l00091">91</a> of file <a class="el" href="os__task_8h_source.html">os_task.h</a>.</p>

<p>References <a class="el" href="os__core_8h_source.html#l00484">os_process_set_priority()</a>, and <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>.</p>

<p>Referenced by <a class="el" href="os__task_8c_source.html#l00037">os_task_create()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                         {
    <a class="code" href="group__group__os__public__api.html#ga9ee7f5cabef074dbe97b342134103973" title="Change the priority of a process.">os_process_set_priority</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task), <a class="code" href="structos__process.html#a888ee41cfca6bf77b78f1e873c64da49" title="Priority of the process.">priority</a>);
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gab48300804c48db05d1bc8eb64302fcbd_cgraph.gif" border="0" usemap="#group__group__os__public__api_gab48300804c48db05d1bc8eb64302fcbd_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gab48300804c48db05d1bc8eb64302fcbd_cgraph" id="group__group__os__public__api_gab48300804c48db05d1bc8eb64302fcbd_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad4b495c8eb823347d1f1e5f66515404c"></a><!-- doxytag: member="os_task.h::os_task_sleep" ref="gad4b495c8eb823347d1f1e5f66515404c" args="(struct os_task *task, struct os_event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_task_sleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structos__task.html">os_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__event.html">os_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send the task to sleep and wake it up uppon a specific event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to send to sleep </td></tr>
    <tr><td class="paramname">event</td><td>The event used to wakeup the task </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#gab1fd38fb6a4953b75aaba6e214852f79">CONFIG_OS_USE_EVENTS</a> needs to be set </dd></dl>

<p>Definition at line <a class="el" href="os__event_8c_source.html#l00258">258</a> of file <a class="el" href="os__event_8c_source.html">os_event.c</a>.</p>

<p>References <a class="el" href="os__event_8c_source.html#l00117">__os_event_register()</a>, <a class="el" href="os__event_8c_source.html#l00080">__os_event_start()</a>, <a class="el" href="os__core_8c_source.html#l00134">__os_process_disable()</a>, <a class="el" href="os__core_8h_source.html#l00306">os_process::next</a>, <a class="el" href="os__core_8c_source.html#l00042">os_current_process</a>, <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, <a class="el" href="os__port_8h_source.html#l00073">os_switch_context</a>, <a class="el" href="os__task_8h_source.html#l00081">os_task_get_process()</a>, and <a class="el" href="os__task_8h_source.html#l00138">os_task_is_enabled()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00022">led_blink()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> *<a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>;

    <span class="comment">// Start the event</span>
    <a class="code" href="os__event_8c.html#aa78431dfe3d5225cf757cce6afb47d94">__os_event_start</a>(event);

    <span class="comment">// Check if the event is already triggered, if not register the event</span>
    <span class="comment">// Doing this does not handle priority if (!__os_event_is_triggered(event)) {</span>
        <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
        <span class="comment">// If the task is enabled, send it to sleep</span>
        <span class="keywordflow">if</span> (<a class="code" href="group__group__os__public__api.html#ga598f01e16df2725f534828f57cf679c9" title="Check wether a task is enabled or not.">os_task_is_enabled</a>(task)) {
            <a class="code" href="group__group__os__internal__api.html#ga8b77e662e12b6ec1437ac678246f4441">__os_process_disable</a>(<a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
        }
        <span class="comment">// Save the next current task pointer because it will be erase</span>
        <span class="comment">// by the sleep operation</span>
        <a class="code" href="os__event_8c.html#a2461517026a8b73154b782c11444aca7">os_event_alternate_proc</a>.<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a> = os_current_process-&gt;<a class="code" href="structos__process.html#a3690866f5fae9a861e92351fed428c3e" title="Pointer of the next process in the list. Active processes are registered within a chain list...">next</a>;
        <span class="comment">// Associate the task with its event and start it</span>
        <a class="code" href="group__group__os__internal__api.html#ga3d05056fe28a7e3b0fa74744187a095c" title="Associate a process with an event and enable the event.">__os_event_register</a>(event, <a class="code" href="group__group__os__public__api.html#gac7e44f93fb27ec80a0319b3cbc830c9a" title="Get the task process.">os_task_get_process</a>(task));
        <span class="comment">// Call the scheduler</span>
        <a class="code" href="group__os__port__group.html#gae36200d59d62e81114d9330a2cab31c5" title="Context switch for a process.  Function used to schedule and switch between the processes.  This function will handle the return from a softwre interrupt. Therefore it can be optimized to bypass the saving context part IF an interrupt is running.">os_switch_context</a>(<span class="keyword">false</span>);
        <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
<span class="comment">//  }</span>
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_gad4b495c8eb823347d1f1e5f66515404c_cgraph.gif" border="0" usemap="#group__group__os__public__api_gad4b495c8eb823347d1f1e5f66515404c_cgraph" alt=""/></div>
<map name="group__group__os__public__api_gad4b495c8eb823347d1f1e5f66515404c_cgraph" id="group__group__os__public__api_gad4b495c8eb823347d1f1e5f66515404c_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga02d2fa79b4b720c7906a7262740db686"></a><!-- doxytag: member="os_core.h::os_yield" ref="ga02d2fa79b4b720c7906a7262740db686" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_yield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Call the scheduler to switch to a new task that is ready to run. This function is useful for cooperative task swiching. </p>

<p>Definition at line <a class="el" href="os__core_8c_source.html#l00167">167</a> of file <a class="el" href="os__core_8c_source.html">os_core.c</a>.</p>

<p>References <a class="el" href="os__port_8h_source.html#l00065">os_enter_critical()</a>, <a class="el" href="os__port_8h_source.html#l00069">os_leave_critical()</a>, and <a class="el" href="os__port_8h_source.html#l00073">os_switch_context</a>.</p>

<p>Referenced by <a class="el" href="os__mutex_8c_source.html#l00047">os_mutex_lock()</a>, <a class="el" href="os__semaphore_8c_source.html#l00056">os_semaphore_take()</a>, <a class="el" href="os__core_8h_source.html#l00393">os_start()</a>, and <a class="el" href="os__task_8c_source.html#l00018">os_task_delay()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="group__os__port__group.html#ga8c5be06e8a791ac257e372d19a41e527" title="Start of a critical code region. Preemptive context switches cannot occur when in a critical region...">os_enter_critical</a>();
    <a class="code" href="group__os__port__group.html#gae36200d59d62e81114d9330a2cab31c5" title="Context switch for a process.  Function used to schedule and switch between the processes.  This function will handle the return from a softwre interrupt. Therefore it can be optimized to bypass the saving context part IF an interrupt is running.">os_switch_context</a>(<span class="keyword">false</span>);
    <a class="code" href="group__os__port__group.html#ga1ed5e871f1b9707aafedd8f97d9d6524" title="Exit a critical code region. .">os_leave_critical</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__group__os__public__api_ga02d2fa79b4b720c7906a7262740db686_cgraph.gif" border="0" usemap="#group__group__os__public__api_ga02d2fa79b4b720c7906a7262740db686_cgraph" alt=""/></div>
<map name="group__group__os__public__api_ga02d2fa79b4b720c7906a7262740db686_cgraph" id="group__group__os__public__api_ga02d2fa79b4b720c7906a7262740db686_cgraph">
</map>
</div>
</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 15 2011 13:05:49 for OS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
