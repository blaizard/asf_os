<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OS: os_interrupt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a>  </div>
  <div class="headertitle">
<div class="title">os_interrupt.h File Reference</div>  </div>
</div>
<div class="contents">

<p>eeOS Interrupts  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="os__interrupt_8h__dep__incl.gif" border="0" usemap="#os__interrupt_8hdep" alt=""/></div>
<map name="os__interrupt_8hdep" id="os__interrupt_8hdep">
</map>
</div>
</div>
<p><a href="os__interrupt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structos__interrupt.html">os_interrupt</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Software interrupt structure.  <a href="structos__interrupt.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__interrupt_8h.html#a0a55e3754e380e60d0a7d8eeb7f35b76">OS_SCHEDULER_POST_INTERRUPT_HOOK</a>()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__interrupt_8h.html#ab8b4fd2fe2352c0a506d4885e0488635">OS_SCHEDULER_PRE_INTERRUPT_HOOK</a>()</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__config.html#ga852d85d7a28eeb540acf970a50c899ce">CONFIG_OS_USE_SW_INTERRUPTS</a>&#160;&#160;&#160;false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this option to enable software interrupts.  <a href="group__group__os__config.html#ga852d85d7a28eeb540acf970a50c899ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__config.html#ga51490992ffbc3ef55ef0aaf299a84267">CONFIG_OS_INTERRUPT_DEFAULT_PRIORITY</a>&#160;&#160;&#160;OS_PRIORITY_1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default priority assgined to an interrupt.  <a href="group__group__os__config.html#ga51490992ffbc3ef55ef0aaf299a84267"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Software Interrupts</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>A software interrupt is a task which runs from the application context and it cannot be interrupted by the scheduler. Software interrupts are scheduled with the task scheduler. They inherit from the same priority scheme than a task.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd><a class="el" href="group__group__os__config.html#ga852d85d7a28eeb540acf970a50c899ce">CONFIG_OS_USE_SW_INTERRUPTS</a> needs to be set </dd></dl>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gabc9c61a0974c0877abbd70ea8c5601f8">os_interrupt_setup</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, <a class="el" href="os__core_8h.html#aa8898862af2024b1bdd152cc0be2da2f">os_proc_ptr_t</a> int_ptr, <a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a software interrupt.  <a href="group__group__os__public__api.html#gabc9c61a0974c0877abbd70ea8c5601f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga2fb6522c1e8ff2b28c4bfad164b7d49e">os_interrupt_from_process</a> (struct <a class="el" href="structos__process.html">os_process</a> *proc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the interrupt associated with a process.  <a href="group__group__os__public__api.html#ga2fb6522c1e8ff2b28c4bfad164b7d49e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structos__process.html">os_process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233">os_interrupt_get_process</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the interrupt process.  <a href="group__group__os__public__api.html#gadc52db854e4b043e20efc16136ea5233"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga9a64ae1de25d9d4eea1e1f9871bcddfa">os_interrupt_trigger</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually trigger a software interrupt.  <a href="group__group__os__public__api.html#ga9a64ae1de25d9d4eea1e1f9871bcddfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga91ae6c76302929a84af282241a03e2b7">os_interrupt_set_priority</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a> priority)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the priority of a software interrupt.  <a href="group__group__os__public__api.html#ga91ae6c76302929a84af282241a03e2b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="os__core_8h.html#a46596f7e1b6a7c074aafaf07503963dc">os_priority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#gae3f5b78918a466b5dea1df8b9772ced4">os_interrupt_get_priority</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the priority of a software interrupt.  <a href="group__group__os__public__api.html#gae3f5b78918a466b5dea1df8b9772ced4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__public__api.html#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef">os_interrupt_trigger_on_event</a> (struct <a class="el" href="structos__interrupt.html">os_interrupt</a> *interrupt, struct <a class="el" href="structos__event.html">os_event</a> *<a class="el" href="main_8c.html#a14a26506deac070223f0fe33f7c51784">event</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger an interrupt on a specific event.  <a href="group__group__os__public__api.html#ga82c9493d0c50cd09a2cf9c9cf9ddb6ef"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__os__internal__api.html#ga0bb8d2ee09ad338228d8d32a90846891">__os_interrupt_handler</a> (<a class="el" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a> args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Software interrupt handler.  <a href="group__group__os__internal__api.html#ga0bb8d2ee09ad338228d8d32a90846891"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>eeOS Interrupts </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Blaise Lengrand (<a href="mailto:blaise.lengrand@gmail.com">blaise.lengrand@gmail.com</a>) </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2011</dd></dl>
<h2><a class="anchor" id="eeos_license"></a>
License</h2>
<p><a class="el" href="group__group__os.html">eeOS</a> is provided in source form for FREE evaluation, for educational use or for peaceful research. If you plan on using <a class="el" href="group__group__os.html">eeOS</a> in a commercial product you need to contact the author to properly license its use in your product. The fact that the source is provided does NOT mean that you can use it without paying a licensing fee. </p>

<p>Definition in file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0a55e3754e380e60d0a7d8eeb7f35b76"></a><!-- doxytag: member="os_interrupt.h::OS_SCHEDULER_POST_INTERRUPT_HOOK" ref="a0a55e3754e380e60d0a7d8eeb7f35b76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_SCHEDULER_POST_INTERRUPT_HOOK</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
            <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structos__process.html">os_process</a> *<a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>; \
            <span class="keywordflow">if</span> (<a class="code" href="group__group__os__public__api.html#ga0f5aa4b090b7594929ef92bb057c9566" title="Check if a process is a software interrupt.">os_process_is_interrupt</a>(os_current_process)) { \
                os_current_process-&gt;<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a> = NULL; \
            } \
        } <span class="keywordflow">while</span> (<span class="keyword">false</span>)
</pre></div>
<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00167">167</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>Referenced by <a class="el" href="os__core_8h_source.html#l00613">os_switch_context_hook()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8b4fd2fe2352c0a506d4885e0488635"></a><!-- doxytag: member="os_interrupt.h::OS_SCHEDULER_PRE_INTERRUPT_HOOK" ref="ab8b4fd2fe2352c0a506d4885e0488635" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_SCHEDULER_PRE_INTERRUPT_HOOK</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> { \
            <span class="keywordflow">if</span> (<a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>-&gt;<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a>) \
                <span class="keywordflow">return</span> <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>; \
            <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>-&gt;<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a> = <a class="code" href="os__core_8c.html#a8ff8ca073f1700d9729f30ccff2df5c1" title="Context of the application task.">os_app</a>.<a class="code" href="structos__process.html#a54122d770255d24aef1f31c3768d6782" title="Stack pointer. Will always be the 1rst element of this structure, to ensure the best optimization...">sp</a>; \
            <a class="code" href="group__os__port__group.html#ga61a509098660222d7a1853c1c4646528" title="Load the context of a task into the stack. this is the inital process which will setup the stack befo...">os_process_context_load</a>(<a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>, \
                    <a class="code" href="group__group__os__internal__api.html#ga0bb8d2ee09ad338228d8d32a90846891" title="Software interrupt handler.">__os_interrupt_handler</a>, \
                    (<a class="code" href="os__port_8h.html#a0c6bdb0cfe9a04a4942b875a52958fc9">os_ptr_t</a>) <a class="code" href="os__core_8c.html#a1f5f2879440e238f354bea4539687c95" title="Current process running.">os_current_process</a>); \
        } <span class="keywordflow">while</span> (<span class="keyword">false</span>)
</pre></div>
<p>Definition at line <a class="el" href="os__interrupt_8h_source.html#l00157">157</a> of file <a class="el" href="os__interrupt_8h_source.html">os_interrupt.h</a>.</p>

<p>Referenced by <a class="el" href="os__core_8c_source.html#l00051">os_scheduler()</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 15 2011 13:05:47 for OS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
